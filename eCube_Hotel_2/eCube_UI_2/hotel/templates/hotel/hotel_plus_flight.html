{% extends 'hotel/base.html' %}
{% load static %}

{% block header %}
<style>
  input#gnBtn {
    width: 60px;
    border-radius: 26px;
    border: 1px solid #ccc;
    padding: 2px;
    text-align: center;
  }
  input#gnBtndate {
    background-image: none !important;
    width: 89px !important;
    border-radius: 50px;
    text-align: center;
  }

  input#gnBtn1 {
    width: 60px;
    border-radius: 26px;
    border: 1px solid #ccc;
    padding: 2px;
    text-align: center;
  }

  input#gnBtn2 {
    width: 60px;
    border-radius: 26px;
    border: 1px solid #ccc;
    padding: 2px;
    text-align: center;
  }

  input#gnBtn3 {
    width: 60px;
    border-radius: 26px;
    border: 1px solid #ccc;
    padding: 2px;
    text-align: center;
  }

  span.addnow {
    border: 1px solid #c183ff;
    color: #323232;
    font-size: 13px;
    padding: 6px 8px;
    border-radius: 35px;
    position: relative;
    cursor: pointer;
  }

  input#gnBtndays {
    width: 60px;
    border-radius: 26px;
    border: 1px solid #ccc;
    padding: 2px;
    text-align: center;
	}
	#btn_error {
    width: 150px;
    display: inline-block;
    text-align: right;
    padding-right: 19px;
}

  input#gnBtnAdWeeks {
    width: 60px;
    border-radius: 26px;
    border: 1px solid #ccc;
    padding: 2px;
    text-align: center;
	}
	li.multiselect-item.multiselect-all { display:block!important; }
	li.multiselect-item.multiselect-all .multiselect-all { display:block!important; }
	a.sp_download {
		display:inline-block;
		font-size: 12px;
		margin-bottom:25px;
	}
	.disabled{
    pointer-events:none;
    opacity:1.5;
}

/*----------*/
.labelinput, .labelinput:focus { 
	border: none; 
	outline: none; 
}

.tagLabel { 
	margin: 0 4px 4px 0; 
	font-size: 100%;
}

.closelabel {
    color: white !important;
    background: #a267c8;
    border-radius: 100px;
    height: 13px;
    width: 13px;
    display: inline-block;
    text-decoration: none !important;
    font-size: 11px;
    margin-left: 5px;
}
.badge {
  background: #c183ff; padding-right: 3px;
}
.box_view .form-control.tags{
  height: auto;
}

</style>
{% endblock %} 
{% block content %}


<section class="request_section clearfix">
		<form id="myForm">
	<div class="row-eq-height">
		<div class="col-sm-4 custom_gap">
		
			<div class="box_view clearfix">
				<div class="file_upload_tabs">
					<div class="main_heading clearfix">
						<h3 class="pull-left">Request Profile</h3>
						<div class="pull-right">
							<a class="request_btn add_manually_btn active" id = "drpAddMan" href="javascript:void(0);"> Add Manually </a>
							<a class="request_btn excel_upload_btn" id = "drpExcel" href="javascript:void(0);"> Excel Upload </a>
						</div>
					</div>

					<div class="tab-content">
							<div class="excelupload_view fade in">
									<span class="close_excel"> X </span>
									<div class="excelupload_heading">
											<h3> Schedule &amp; Upload Request </h3>
											<a href="{% url 'hotel_batch_input_upload_template_flight' %}"> Download template </a>
									</div>
									<div class="box_view clearfix">
											<div class="file_upload_tabs">

													<div class="tab-content">
															<div id="schedule_batch" class="tab-pane fade in active">
																	<div class="row">
																			<div class="">
																					<div class="">
																							<div class="form-group ">
									<span class="upload upload_file">
										<input type="file" id="input_file_excel">
										<img src="{% static 'hotel/images/upload_file.png' %}" alt="">
										<p> Select File to upload </p>
										<span class="file_type"></span>
									</span>
																							</div>
																					</div>
																			</div>
																			<div class="clearfix marT20">
																					<div class="pull-left">
																							<input type="button" onclick="upload_batch_input_flight();"
																										 class="choose_file float_none" value="Upload File">
																					</div>

																					<div class="pull-right">
																						<a  class="error_log float_none" href="javascript:void(0);"
																						id="btn_error" style="display: none;">Error Log</a>
																				</div>
																			</div>
																	</div>
															</div>
															<div id="upload_batch" class="tab-pane fade">
																	<div class="row">
																			<div class="">
																					<div class="">
																							<div class="form-group ">
									<span class="upload upload_file">
										<input type="file">
										<img src="{% static 'hotel/images/upload_file.png' %}" alt="">
										<p> Drag File to upload </p>
										<span class="file_type"></span>
									</span>
																							</div>
																					</div>
																			</div>
																			<div class=" ">
																					<input type="button" name="" class="choose_file float_none"
																								 value="Upload File">
																			</div>
																	</div>
															</div>
													</div>
											</div>
									</div>

							</div>


						<div class="row manually_added">
							<div class="col-md-6">
								<div class="form-group required">
									<label>Request Name </label>
									<input type="text" class="form-control" id="txtRequestName" placeholder="Add Batch Name">			
									<span id="spanrequestname" class="small error" style="display:none" >Please set request name</span>
								</div>
							</div>
							<div class="col-md-6">
								<div class="form-group required">
									<label>Request Description</label>
									<input type="text" class="form-control" id="txtRequestDesc" placeholder="Add Batch Description">
							
								<span id="spanrequestdescr" class="small error" style="display:none" >Please set request description</span>
							</div>

							</div>
						</div>

						<div class="row">
							<div class="">
								<div class="col-md-6 batch_list_div">
									<div class="form-group">
										<label>Batch List  </label>
                                        <select class="form-control" id="batch_selector">>
                                            {% for item in batch_items %}
                                            {% if item.id == selected_request_id %}
                                            <option value="{{ item.id }}" selected>{{ item.title }}</option>
                                            {% else %}
                                            <option value="{{ item.id }}">{{ item.title }}</option>
                                            {% endif %}
                                            {% endfor %}
                                        </select>
									</div>
								</div>

								<div class="col-md-6" style="display:none">
									<div class="form-group">
										<label class="btn-block">PNF Auto Attempts</label>
										<span class="counter">
											<a id="minus1" href="javascript:void(0);" class="minus"> - </a>
											<input id="qty1" type="text" value="1" class="qty" />
											<a id="add1" href="javascript:void(0);" class="plus"> + </a>
										</span>
										<span class="p_not_found">(multi)</span>
									</div>
								</div>

							</div>

						</div>




						<div class="row">
							<div class="">
							

								<div class="col-md-6">
									<div class="row">
										<div class="col-md-6">
											<div class="form-group">
												<label class="btn-block">Adults</label>
												<span class="counter">
													<a id="" href="javascript:void(0);" class="minus"> - </a>
													<input id="txtAdultCount" type="text" value="1" class="qty" />
													<a id="" href="javascript:void(0);" class="plus"> + </a>
												</span>
												<span id="spanAdultCount" class="small error" style="display:none">Adults Should not be Zero</span>

											</div>
										</div>

										<div class="col-md-6">
											<div class="form-group pull-right">
												<label class="btn-block">Children</label>
												<span class="counter">
													<a id="" href="javascript:void(0);" class="minus"> - </a>
													<input id="txtChildrenCount" type="text" value="1" class="qty" />
													<a id="" href="javascript:void(0);" class="plus"> + </a>
												</span>
												<span id="spanChildrenCount" class="small error" style="display:none">Children Should not be Zero</span>

											</div>
										</div>

									</div>

								</div>

							</div>

						</div>

						<div class="row">
							<div class="marT10">
								<div class="col-md-6">
									<div class="form-group ">
										<label> City/Beach Group </label>
										<label class="pull-right required_none" onclick="chk_grp_name();">
											<a  data-toggle="modal" data-target="#myModal" id="a_managed_grp"> Manage Group </a>
										</label>
										<select class=" form-control" id="drp_mul_grp_name" onchange="getSelect_hotel();">
										
										</select>
									</div>
								</div>

								<div class="col-md-6">
									<div class="form-group multi_select_contaner">
										<label> Hotels from City/Beach </label>
										<select class="multiselect_box form-control" multiple="multiple" id="drp_htls_by_grp">
										
										</select>
									</div>
								</div>
							</div>

						</div>

						<div class="row">
              <div class="">
                <div class="col-md-6">
                  <div class="form-group">
                    <label> Report Format Type </label>
                    <select class="form-control" id="drpreporttype">
											<option value = "0">Select Option</option>
											<option value = "1">Excel</option>
											<option value = "2">CSV</option>
											<option value = "3">PDF</option>
                    </select>

									<span id="spanreport" class="small error" style="display:none">Please select report format type</span>
								</div>
                </div>
                {% comment %} <div class="col-md-6">
                  <div class="form-group send_report_div">
                    <label>Via</label>
                    <div class="checkbox checkbox-primary">
                  <input id="send_report" type="checkbox"    >
                  <label for="send_report"> Send Report</label>
                </div>
                  </div>
                </div> {% endcomment %}
							</div>
						</div>
						 
					</div>
				</div>
			</div>

		</div>

		<div class="col-sm-4 custom_gap">
			<div class="box_view clearfix">
				<div class="file_upload_tabs">
					<ul class="nav nav-tabs">
						<li id="Is_airportcode" class="active icons airport_icon">
							<a data-toggle="tab" href="#by_airport_code">By Airport codes only </a>
						</li>
						<li id="Is_countrycode" class="icons country_icon">
							<a data-toggle="tab" href="#by_country_code">By Country /City /Airport code</a>
						</li>
					</ul>
		
					<div class="tab-content" style="padding-bottom:5px;">
						<div id="by_airport_code" class="tab-pane fade in active">
							<div class="fieldset_border">
								<div class="row">
									<div class="fieldset_body">
										<h4> Airport Code  </h4>
										<div class="col-md-6">
											<div class="form-group required">
												<label>From</label>
												<select id="drpFromAir" class="form-control">
													<option value="0">Select Items</option>
													{% for key, values in airportcodes.items %}
													<option value={{ key }}>{{ values }}</option>
													{% endfor %}
												</select>
										
											<span id="spandestinationcountry" class="small error" style="display:none">Please Select Source Airport</span>
											<span id="spandifferentAirport" class="small error" style="display:none">Please Select Different Airport</span>
										</div>
		
										</div>
		
										<div class="col-md-6">
											<div class="form-group required">
												<label>To</label>
												<select id="drpToAir" class="form-control">
													<option value="0">Select Items</option>
													{% for key, values in airportcodes.items %}
													<option value={{ key }}>{{ values }}</option>
													{% endfor %}
												</select>
										
											<span id="spandestinationcity" class="small error" style="display:none">Please Select Destination Airport</span>
											<span id="spandifferentAirport1" class="small error" style="display:none">Please Select Different Airport</span>
										</div>
		
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="marT10 clearfix">
									<div class="col-md-6 padR0">
										<div class="form-group required">
											<label>Scraping Option</label>
											<div id="divHotelCrawlMode" class="buttons_contaner clickable_action">
												<a id="AllHotel" class="all_hotel scraping_btn" href="javascript:void(0)">All Hotel / City</a>
												<a id="SpecificHotel" class="specific_hotel scraping_btn" href="javascript:void(0)">Specific Hotel</a>
											</div>
											<span id="spanChooseHotelType" class="small error" style="display:none"></span>
		
										</div>
									</div>
		
									<div class="col-md-6 specific_hotel_show" style="display: none;">
										<div class="form-group required">
											<span class="upload upload_file">
												<input id="hotel_file_upload" type="file">
												<img src="/static/hotel/images/upload_file.png" alt="">
												<p> Upload File </p>
												<span class="file_type"></span>
											</span>
											<div class="pull-right">
												<a href="{% url 'hotel_typedownload' %}" class="sp_download"> Download Excel / CSV </a>
											</div>
									
										<span id="spanhotel" class="small error" style="display:none" />
									</div>
									</div>
								</div>
		
							</div>
		
							<div class="row">
								<div class="marT10 clearfix">
		
									<div class="col-md-6 hotel_selection">
										<div class="form-group multi_select_contaner required">
											<label>Hotel</label>
											<select id="drpHotel" class="multiselect_box form-control" multiple="multiple">

											</select>
									
										<span id="spanHotel" class="small error" style="display:none">Please select Hotel</span>
									</div>
									</div>
							 
								{% comment %} <div class="col-md-6">
									<div class="form-group multi_select_contaner">
										<label>Room Type</label>
										<select id="drpRoomType" class="multiselect_box form-control" multiple="multiple">
											{% for key, value in roomtypes.items %}
											<option value={{ key }}>{{ value }}</option>
											{% endfor %}
										</select>
									
									<span id="spanRoomType" class="small error" style="display:none">Please select room type</span>
								</div>
								</div> {% endcomment %}
							 </div> 
							</div>
		
							<div class="row">
								<div class="marT10">
							<div class="col-md-12">
											<div class="form-group">
												<label for="roomtype">Room Type</label>
												<div class="form-control tags" id="tags" onkeydown="chk_char();">
													<input type="text" class="labelinput">
													<input type="hidden" id ="hdn_txt_room_type" value="" name="result">
												</div>
											</div> 
							</div>
						</div>
						</div>
		
							<div class="row">
								<div class="marT10 clearfix">
		
									<div class="col-md-6">
										<div class="form-group multi_select_contaner ">
											<label>Board Type</label>
											<select id="drpBoardType" class="multiselect_box form-control" multiple="multiple">
												{% for key, value in boardtypes.items %}
												<option value={{ key }}>{{ value }}</option>
												{% endfor %}
											</select>
									
										<span id="spanBoardType" class="small error" style="display:none">Please select board type</span>
									</div>
									</div>
		
									<div class="col-md-6">
										<div class="form-group multi_select_contaner ">
											<label>Star Rating</label>
											<select id="drpStarRating" class="multiselect_box form-control" multiple="multiple">
												{% for key, value in starratings.items %}
												<option value={{ key }}>{{ value }}</option>
												{% endfor %}
											</select>
								
										<span id="spanStarRatings" class="small error" style="display:none">Please select room type</span>
									</div>
									</div>
								</div>
		
							</div>
						</div>
		
		
						<div id="by_country_code" class="tab-pane fade">
							<div class="fieldset_border">
								<div class="row">
									<div class="fieldset_body">
										<h4>Country </h4>
										<div class="col-md-6">
											<div class="form-group required">
												<label>From</label>
												<select id="drpCountries" class="form-control">
													<option value="0">Select Option</option>
													{% for key, value in countries.items %}
													<option value={{ key }}>{{ value }}</option>
													{% endfor %}
												</select>
										
											<span id="spandrpCountries" class="small error" style="display:none">Please select Source Country</span>
										</div>
										</div>
		
										<div class="col-md-6">
											<div class="form-group required">
												<label>To</label>
												<select id="drpCountries1" class="form-control">
													<option value="0">Select Option</option>
													{% for key, value in countries.items %}
													<option value={{ key }}>{{ value }}</option>
													{% endfor %}
												</select>
											
											<span id="spandrpCountries1" class="small error" style="display:none">Please select Destination Country</span>
										</div>
		
										</div>
									</div>
		
								</div>
		
		
							</div>
		
							<div class="fieldset_border">
								<div class="row">
									<div class="fieldset_body">
										<h4> City </h4>
										<div class="col-md-6">
											<div class="form-group required">
												<label>From</label>
												<select id="drpCities" class="form-control">
													<option>Select Option</option>
												</select>
										
											<span id="spandrpCities" class="small error" style="display:none">Please select Source City</span>
											<span id="spandifferentCountries" class="small error" style="display:none">Please select Different Country</span>

										</div>
										</div>
		
										<div class="col-md-6">
											<div class="form-group required">
												<label>To</label>
												<select id="drpCities1" class="form-control">
													<option>Select Option</option>
												</select>
										
											<span id="spandrpCities1" class="small error" style="display:none">Please select Destination City</span>
											<span id="spandifferentCountries1" class="small error" style="display:none">Please select Different Country</span>

										</div>
										</div>
									</div>
		
								</div>
		
		
							</div>
		
		
							<div class="fieldset_border">
								<div class="row">
									<div class="fieldset_body">
										<h4> Airport </h4>
										<div class="col-md-6">
											<div class="form-group required">
												<label>From</label>
												<select id="drpAirport" class="form-control">
													<option>Select Option</option>
												</select>
											
											<span id="spandrpAirport" class="small error" style="display:none">Please select Source Airport</span>
										</div>
										</div>
		
										<div class="col-md-6">
											<div class="form-group required">
												<label>To</label>
												<select id="drpAirport1" class="form-control">
													<option>Select Option</option>
												</select>
										
											<span id="spandrpAirport1" class="small error" style="display:none">Please select Destination Airport</span>
										</div>
										</div>
									</div>
		
								</div>
		
		
							</div>
		
						</div>
					</div>
				</div>
		 
				       
				<div class="col-md-12">
              
					<div class="row">
						  
						<div class="col-md-6">
							<div class="form-group required">
								<label>Point of Sale</label>
								<select class="form-control" id="drppointofsale">
									<option value="0">Select Items</option>
									{% for key, values in pointofsales.items %}
									<option value="{{key}}">{{values}}</option>
									{% endfor %}

								</select>

							<span id="spanpos" class="small error" style="display:none">Please select point of sale</span>

						</div>
						</div>
		 
	</div>
</div>
 
			</div>
		</div>

		<div class="col-sm-4 custom_gap">
			<div class="box_view clearfix">
				<div class="file_upload_tabs">
					<ul class="nav nav-tabs custom_tab">
						<li id="ls_daterangedays" class="icons date_range_icon active">
							<a data-toggle="tab" href="#date_range"> Date
								<br> Range </a>
						</li>
						<li id="ls_advancedays" class="icons advance_days_icon">
							<a data-toggle="tab" href="#advance_days"> Advance
								<br> Days </a>
						</li>
						<li id="ls_checkindays" class="icons check_in_icon">
							<a data-toggle="tab" href="#check_in"> Multiple
								<br> Check-In Dates </a>
						</li>
						<li id="ls_advanceweekdays" class="icons advance_weeks_icon">
							<a data-toggle="tab" href="#advance_weeks"> Advance
								<br> Weeks </a>
						</li>
					</ul>
					<div class="tab-content" style="padding-bottom:0px;">
						<div id="date_range" class="tab-pane fade in active">
							<div class="row">
								<div class="marT10">
									<div class="col-md-6">
										<div class="form-group multi_select_contaner required">
											<label>Select Suppliers </label>
											<select id="drpsuppliers" class="multiselect_box form-control" multiple="multiple">
												{% for key, value in suppliers.items %}
												<option value={{ key }}>{{ value }}</option>
												{% endfor %}
											</select>
		
											<span id="spanSuppliersDateRange" class="small error" style="display:none">Please select suppliers</span>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="marT10">
									<div class="col-md-6">
										<div class="form-group required">
											<label> From </label>
											<input id="txtDateRangeFrom" type="text" class="form-control    dates_control" placeholder="MM/DD/YY" readonly="readonly"  >
											<span id="spanDateRangeFrom" class="small error" style="display:none">Please select From Date</span>
										</div>
		
									</div>
									<div class="col-md-6">
										<div class="form-group required">
											<label> To </label>
											<input id="txtDateRangeTo" type="text" class="form-control dates_control" placeholder="MM/DD/YY" readonly="readonly">
											<span id="spanDateRangeTo" class="small error" style="display:none">Please select To Date</span>
										</div>
									</div>
								</div>
							</div>
							<div class="fieldset_border">
								<div class="row">
									<div class="fieldset_body">
										<h4>Week Days </h4>
										<div class="col-md-12">
											<div id="divWeekDays" class="clickable_action week_days_div">
												<a name='a_weekdays' class="active_day days_btn" href="javascript:void(0);"> Monday </a>
												<a name='a_weekdays' class="days_btn" href="javascript:void(0);"> Tuesday </a>
												<a name='a_weekdays' class="days_btn" href="javascript:void(0);"> Wednesday </a>
												<a name='a_weekdays' class="days_btn" href="javascript:void(0);"> Thursday </a>
												<a name='a_weekdays' class="days_btn" href="javascript:void(0);"> Friday </a>
												<a name='a_weekdays' class="days_btn" href="javascript:void(0);"> Saturday </a>
												<a name='a_weekdays' class="days_btn" href="javascript:void(0);"> Sunday </a>
		
												<span id="spanWeekDays" class="small error" style="display:none">Please select week days</span>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="fieldset_border no_of_days">
								<div class="row">
									<div class="fieldset_body">
										<h4> Number of nights</h4>
										<div class="col-md-12">
											<div id="divrowDateRange" class="clickable_action">
												<a name="noOfNights1" class="count_days count_days_selected" href="javascript:void(0);"> 1 </a>
												<a name="noOfNights1" class="count_days" href="javascript:void(0);"> 2 </a>
												<a name="noOfNights1" class="count_days" href="javascript:void(0);"> 3 </a>
												<a name="noOfNights1" class="count_days" href="javascript:void(0);"> 4 </a>
												<a name="noOfNights1" class="count_days" href="javascript:void(0);"> 5 </a>
												<a name="noOfNights1" class="count_days" href="javascript:void(0);"> 6 </a>
												<a class="add_event" onclick="generateRow()" id="add_nof" href="javascript:void(0);"> + Add </a>
												<a class="remove_event" onclick="removeFunction()" id="remove_nof" href="javascript:void(0);"> - Remove </a>
												<div class="clickable_action append_div">
													<span class="nof_extra_values" id="get_values"></span>
													<span id="spannights"></span>
												</div>
												
												<span id="spandaterangenights" class="small error" style="display:none"></span>
											</div>
										</div>
									</div>
		
								</div>
							</div>
						</div>
		
						<div id="advance_days" class="tab-pane fade">
							<div class="row">
								<div class="marT10">
									<div class="col-md-6">
										<div class="form-group multi_select_contaner required">
											<label> Select Suppliers</label>
											<select id="drpsuppliers1" class="multiselect_box form-control" multiple="multiple">
												{% for key, value in suppliers.items %}
												<option value={{ key }}>{{ value }}</option>
												{% endfor %}
											</select>
											<span id="spanadvancesuppliers" class="small error" style="display:none">Please select suppliers</span>
										</div>
									</div>
								</div>
							</div>
							<div class="fieldset_border advance_day">
								<div class="row">
									<div class="fieldset_body">
										<h4>Advance Days </h4>
										<div class="col-md-12">
											<div id="divAdvanceDays" class="clickable_action">
												<a name="AdvanceDays" class="active_day days_btn" href="javascript:void(0);">1</a>
												<a name="AdvanceDays" class="days_btn" href="javascript:void(0);">3</a>
												<a name="AdvanceDays" class="days_btn" href="javascript:void(0);">7</a>
												<a name="AdvanceDays" class="days_btn" href="javascript:void(0);">14</a>
												
												<a class="add_event" onclick="generateRowdays()" id="add_advance_days" href="javascript:void(0);"> + Add </a>
												<a class="remove_event" onclick="removeFunctiondays()" id="remove_advance_days" href="javascript:void(0);"> - Remove </a>
												<div class="clickable_action append_div">
														<span class="nof_extra_days" id="get_values_advancedays"></span>
														<span id="spanadvancedays"></span>
													</div>
												<span id="spanadvancedayserror" class="small error" style="display:none"></span>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="fieldset_border no_of_days">
								<div class="row">
									<div class="fieldset_body">
										<h4> Number of nights</h4>
										<div class="col-md-12">
											<div id="divrowDateRange1" class="clickable_action">
												<a name="noOfNights2" class="count_days count_days_selected" href="javascript:void(0);"> 1 </a>
												<a name="noOfNights2" class="count_days" href="javascript:void(0);"> 2 </a>
												<a name="noOfNights2" class="count_days" href="javascript:void(0);"> 3 </a>
												<a name="noOfNights2" class="count_days" href="javascript:void(0);"> 4 </a>
												<a name="noOfNights2" class="count_days" href="javascript:void(0);"> 5 </a>
												<a name="noOfNights2" class="count_days" href="javascript:void(0);"> 6 </a>
												<a class="add_event" onclick="generateRow1()" id="add_nof1" href="javascript:void(0);"> + Add </a>
												<a class="remove_event" onclick="removeFunction1()" id="remove_nof1" href="javascript:void(0);"> - Remove </a>
												<div class="clickable_action append_div">
													<span class="nof_extra_values" id="get_values1"></span>
													<span id="spannights1"></span>
												</div>
												
		
												<span id="spanadvancenightsserror" class="small error" style="display:none"></span>
											</div>
										</div>
									</div>
		
								</div>
							</div>
						</div>
		
						<div id="check_in" class="tab-pane fade">
							<div class="row">
								<div class="marT10">
									<div class="col-md-6">
										<div class="form-group multi_select_contaner required">
											<label>Select Suppliers </label>
											<select id="drpsuppliers2" class="multiselect_box form-control" multiple="multiple">
												{% for key, value in suppliers.items %}
												<option value={{ key }}>{{ value }}</option>
												{% endfor %}
											</select>
		
											<span id="spanSuppliersCheckInDateserror" class="small error" style="display:none">Please select suppliers</span>
										</div>
									</div>
								</div>
							</div>
							<div class="fieldset_border start_date">
								<div class="row">
									<div class="fieldset_body">
										<h4>Start Date </h4>
										<div class="col-md-12">
											<div id="divStartDate" class="clickable_action append_div" style="display: block">
												<span>
													<input type='text' name='txtstartdate' class='form-control dates_control' placeholder='Select date' id='gnBtndate' readonly="readonly">
												</span>
												<!-- <span id='multi_check_in_save' class='addnow'>save</span> -->
											
												<span id="get_date_values"></span>
												<span id="get_date"></span>
 
												<a class="add_event add_event_date addnow" onclick="generatedate()" id="btndate" href="javascript:void(0);"> + Add </a>
												<a class="remove_event remove_event_date" onclick="removedatFunction()" href="javascript:void(0);">
													- Remove </a>
										 
		
												<span id="spanstartdateerror" class="small error" style="display:none"></span>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="fieldset_border no_of_days">
								<div class="row">
									<div class="fieldset_body">
										<h4> Number of nights</h4>
										<div class="col-md-12">
											<div id="divstartnights" class="clickable_action">
												<a name="noOfNights3" class="count_days count_days_selected" href="javascript:void(0);"> 1 </a>
												<a name="noOfNights3" class="count_days" href="javascript:void(0);"> 2 </a>
												<a name="noOfNights3" class="count_days" href="javascript:void(0);"> 3 </a>
												<a name="noOfNights3" class="count_days" href="javascript:void(0);"> 4 </a>
												<a name="noOfNights3" class="count_days" href="javascript:void(0);"> 5 </a>
												<a name="noOfNights3" class="count_days" href="javascript:void(0);"> 6 </a>
												
												<a class="add_event" onclick="generateRow2()" id="add_nof2" href="javascript:void(0);"> + Add </a>
												<a class="remove_event" onclick="removeFunction2()" id="remove_nof2" href="javascript:void(0);"> - Remove </a>
												<div class="clickable_action append_div">
														<span class="nof_extra_values" id="get_values2"></span>
														<span id="spannights2"></span>
													</div>
												<span id="spanstartnightserror" class="small error" style="display:none"></span>
											</div>
										</div>
									</div>
		
								</div>
							</div>
						</div>
						<input type="hidden" id="hdn_hotel_req_id" />
						<input type="hidden" id="all_hotels_city_beach"/>
						<input type="hidden" id="all_hotels"/>
						<input type="hidden" id="hdn_url1" value="{% url 'hotel_plus_flight_request' %}" />
						<input type="hidden" id="hdn_url2" value="{% url 'Rflight_delete_request' %}" />
		
						<div id="advance_weeks" class="tab-pane fade">
							<div class="row">
								<div class="marT10">
									<div class="col-md-6">
										<div class="form-group multi_select_contaner required">
											<label>Select Suppliers</label>
											<select id="drpsuppliers3" class="multiselect_box form-control" multiple="multiple">
												{% for key, value in suppliers.items %}
												<option value={{ key }}>{{ value }}</option>
												{% endfor %}
											</select>
		
											<span id="spanSuppliersAdvWeekserror" class="small error" style="display:none">Please select suppliers</span>
										</div>
									</div>
								</div>
							</div>
							<div class="fieldset_border advance_week">
								<div class="row">
									<div class="fieldset_body">
										<h4>Advance Weeks </h4>
										<div class="col-md-12">
											<div id='divAdvanceWeeks' class="clickable_action">
												<a name="AdvanceWeeks" class="active_day days_btn" href="javascript:void(0);">1</a>
												<a name="AdvanceWeeks" class="days_btn" href="javascript:void(0);">2</a>
												<a name="AdvanceWeeks" class="days_btn" href="javascript:void(0);">3</a>
												<a name="AdvanceWeeks" class="days_btn" href="javascript:void(0);">4</a>
												
												<a class="add_event" onclick="generateRowAdvanceWeeks()" id="add_advance_days1" href="javascript:void(0);"> + Add </a>
												<a class="remove_event" onclick="removeFunctionAdvanceWeeks()" id="remove_advance_days1" href="javascript:void(0);"> - Remove </a>
												<div class="clickable_action append_div">
														<span class="nof_extra_days" id="get_values_advanceweeks"></span>
														<span id="spanadvanceweeks"></span>
													</div>
												<span id="spanadvanceweekerror" class="small error" style="display:none"></span>
											</div>
										</div>
									</div>
								</div>
							</div>

		
							<div class="fieldset_border no_of_days">
								<div class="row">
									<div class="fieldset_body">
										<h4> Number of nights</h4>
										<div class="col-md-12">
											<div id="divAdvanceWeekNights" class="clickable_action">
												<a name="noOfNights4" class="count_days count_days_selected" href="javascript:void(0);"> 1 </a>
												<a name="noOfNights4" class="count_days" href="javascript:void(0);"> 2 </a>
												<a name="noOfNights4" class="count_days" href="javascript:void(0);"> 3 </a>
												<a name="noOfNights4" class="count_days" href="javascript:void(0);"> 4 </a>
												<a name="noOfNights4" class="count_days" href="javascript:void(0);"> 5 </a>
												<a name="noOfNights4" class="count_days" href="javascript:void(0);"> 6 </a>
											
												<a class="add_event" onclick="generateRow3()" id="add_nof3" href="javascript:void(0);"> + Add </a>
												<a class="remove_event" onclick="removeFunction3()" id="remove_nof3" href="javascript:void(0);"> - Remove </a>
												<div class="clickable_action append_div">
														<span class="nof_extra_values" id="get_values3"></span>
														<span id="spannights3"></span>
													</div>
												<span id="spanadvweeknightserror" class="small error" style="display:none"></span>
											</div>
										</div>
		
									</div>
		
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		</div>
		


	<div class="col-md-12 marT10 col-sm-12 text-center">
			<input type="button" name="" id="btnResett" onclick="resetFunction()"  class="previous_action_button float_none" value="Reset">
			<input type="button" name="" id="btnSaveRequest" class="save_request_button float_none" value="Add Request">
			<input type="button" name="" id = "btnUpdateRequest" class="update_request_button float_none" value="Update Request" style="display:none;" >
	</div>
</form>
</section>


<section class="pos_section clearfix">

		{% for data in hidden_data_list %}
    
    <div class="pos_content">

        {% if forloop.counter0 == 0 %}
        {% include 'hotel/components/short_flight_view.html' with data=data.0 opened=True %}
        {% else %}
        {% include 'hotel/components/short_flight_view.html' with data=data.0 %}
        {% endif %}

    </div>
    {% endfor %}

		{% for data in show_data_list %}

    <div class="pos_content show_more_data">
        {% include 'hotel/components/short_flight_view.html' with data=data.0 %}
        </div>
    {% endfor %}
	
		 {% if flag == 1 and data_list|length > 3 %}
		<button class="view_more" id="btnshow_hide" {%if show_data_list %}style="display:block" {%endif%}> + Show More</button>
		{% endif %} {% if flag == 1 %}
		<br clear="all" />
		<div class="col-md-12   text-center button_download">
			<input type="button" name="" id="start_schedule" class="start_schedule_button float_none" value="Start Schedule">
		</div>
		{% endif %}
		
	</section>


 <!-- /*******************************************/-->
        <!-- Modal -->
        <div class="modal fade full_width in" id="myModal" role="dialog">
					<div class="modal-dialog addcity_popuop">
							<!-- Modal content-->
							<div class="modal-content full_height">
									<div class="modal-body">
											<div class="header_addcity">
													<button type="button" class="close" data-dismiss="modal"><img
																	src="/static/hotel/images/close_pop.png"
																	alt=""></button>
													<h4>Add City/Beach Group</h4>
											</div>
											<div class="addcity_popuop_body clearfix">


													<div class="col-sm-6">
															<div class="row marT10">
																	<div class="col-md-4  col-sm-8">
																			<div class="form-group">
																					<label for="email">Create Group for </label>
																					<div class="buttons_selection" id="div_btn_beach_grp">
																							<div class="round_btn city_group"><span
																											class="active">City Group</span>
																							</div>
																							<div class="round_btn batch_group"><span class="">Beach Group</span>
																							</div>
																					</div>
																			</div>
																	</div>

																	<div class="col-md-4 col-sm-4">
																			<div class="form-group">
																					<label>Group Name</label>
																					<input type="text" id="txt_grp_name"  class="form-control"/>
																			</div>
																	</div>

															</div>
															<div class="row">


																	<div class="col-md-4 col-sm-4">
																			<div class="form-group">
																					<label>Select Country</label>
																					<select class="form-control" id="drp_country"
																									onchange="Bind_city_name_func(this)">
																							<option value="0">Select option</option>

																					</select>
																			</div>
																	</div>


																	<div class="col-md-4 col-sm-4">
																			<div class="form-group">
																					<label>Select City</label>
																					<select class="form-control" id="drp_cities"
																									onchange="Bind_hotel_name(this)">
																							<option value="0">Select option</option>

																					</select>
																			</div>
																	</div>

																	
															</div>

													</div>


													<div class="col-sm-6">
															<div class="row">
																	<div class="col-md-12 marT10 clearfix">
																			<h5 class="add_hotel_heading border_right_lightgray">Add Hotels</h5>
																			<div class="checkbox checkbox-primary check_all">
																					<input id="checkbox3" type="checkbox"
																								 onchange="Select_all_hotel_beatc(this)">
																					<label for="checkbox3">Select All</label>
																			</div>
																			<div class="pull-right col-md-7 padR0">
																					<div class="add_hotels pull-left col-md-5">
																							<!-- <a href="javascript:void(0);" class="upload_hotel_trigger">Upload
																									Hotels</a> -->
																							<div class="upload_hotel_contaner" style="display: none">
																									<div class="upload_hotel_header" >
																											
																									</div>
																									<div class="uplaod_body">
																											<div class="form-group ">
																											<span class="upload upload_file">
																													<img src="/static/hotel/images/upload_file.png" alt="">
																													<p>  Click here to upload  </p>
																													<span class="file_type"></span>
																											</span>
																											</div>

																											<div class=" ">
																													<input type="button" name="" class="choose_file float_none"
																																 value="Upload File" onclick="File_upload()">
																											</div>

																									</div>
																							</div>
																					</div>
																					<div class="col-md-7 padR0">
																							<input type="text" class="form-control searchhotel pull-left "
																										 id="text_input_search_hotel_beach" placeholder="Search">
																					</div>
																			</div>
																	</div>
																	<div class="col-md-12" id="holtel_list_beatch">
																			<div class="addhotel_checkbox_contaner" id="div_append_hotels">

																			</div>
																	</div>

																	<div class="col-md-12 marT10">
																			<a href="#" class="selected_Hotels"><span id="span_total_count_hotel">0</span>
																					Hotel Selected</a>

																			<div class="pull-right col-md-6">
																					<div class="row">
																							<div class="col-md-5 padR0 pull-right">
																									<input type="button" class="Add_Group pull-right" id="btn_addgroup"
																												 onclick="save_val_to_grid()" value="Add To Grid">
																							</div>
																					</div>
																			</div>
																	</div>
															</div>
													</div>
											</div>

											<div id="div_id_hide_show" style="display: none;">
													<div class="clearfix"> &nbsp;</div>
													<div class="table-responsive marT20">

															<table id="selected_hotels_grid" class="display nowrap custom_table" cellspacing="0"
																		 width="100%">
																	<thead>
																	<tr class="row_contaner">
																			<th>COUNTRY</th>
																			<th>CITY</th>
																			<th>HOTEL NAME</th>
																			<th>ACTION</th>
																	</tr>
																	</thead>
																	<tbody id="id_tbl_body">

																	</tbody>
															</table>
													</div>
													<div class="col-md-12">
															<div class="row text-center">
																	<input type="button" class="Add_Group" id="btn_addgroupfrmgrid"
																				 value="Update Group" onclick="Update_hotel_list_func();">
															</div>
													</div>
											</div>
									</div>
							</div>
					</div>
			</div>



{% endblock %} 
{% block footer %}
<!-- jQuery easing plugin --> 

<script type="text/javascript">
                $("#start_schedule").click(function (e) {
								window.location.href = '{% url "add_request_scheduler" %}' + "{{ request.session.requestid }}"

 });

 $("#drp_htls_by_grp").change(function () { 
	var hcb = $("#drp_htls_by_grp").val();
	if (hcb == null){
		$("#AllHotel").show();
		$(".hotel_selection .form-group.multi_select_contaner").addClass("required");
		$("#all_hotels_city_beach").val(1);
	} 
	else{
		$("#AllHotel").hide();
		$(".hotel_selection .form-group.multi_select_contaner.required").removeClass("required");
		$("#all_hotels_city_beach").val(2);
	}

});

</script>

<script>
		function resetFunction() {
			var requestname = $("#txtRequestName").val()
        var requestdesc = $("#txtRequestDesc").val()
        document.getElementById("myForm").reset();
        if ("{{ request.session.requestid }}"){
          $("#txtRequestName").val(requestname)
          $("#txtRequestDesc").val(requestdesc)
        }
    //    .count_days_selected.count_days
        
        
        $('.specific_hotel_show').css('display','none');   
        $('.file_type').text('');
        $('.file_type').css('opacity','0');
        $('#AllHotel').removeClass('active');
        $('#SpecificHotel').removeClass('active')
        $('.small.error').css('display','none');
        $('.form-control.error_field').removeClass('error_field');
        $('.multiselect_box').multiselect('deselectAll', true);
        $('.multiselect_box').multiselect('updateButtonText');
        var countdate = document.getElementsByClassName('count_days')
        for(var i =1; i< countdate.length;i++){
          removedatFunction();
        }
        generatedate();

        var weekdays = document.getElementsByName('a_weekdays')
			for(var i =1; i< weekdays.length;i++){
				$(weekdays[i]).removeClass('active_day')
			}
			var weekdays1 = document.getElementsByName('a_weekdays1')
			for(var i =1; i< weekdays1.length;i++){
				$(weekdays1[i]).removeClass('active_day')
			
			}
			var noOfNights1 = document.getElementsByName('noOfNights1')
			for(var i =1; i< noOfNights1.length;i++){
        $(noOfNights1[i]).removeClass('count_days_selected')
        removeFunction();
			
			}
			var noOfNights2 = document.getElementsByName('noOfNights2')
			for(var i =1; i< noOfNights2.length;i++){
				$(noOfNights2[i]).removeClass('count_days_selected')
        removeFunction1();
			}
			var noOfNights3 = document.getElementsByName('noOfNights3')
			for(var i =1; i< noOfNights3.length;i++){
        $(noOfNights3[i]).removeClass('count_days_selected')
        removeFunction2();
			
			}
			var noOfNights4 = document.getElementsByName('noOfNights4')
			for(var i =1; i< noOfNights4.length;i++){
				$(noOfNights4[i]).removeClass('count_days_selected')
        removeFunction3();
			}
			var AdvanceDays = document.getElementsByName('AdvanceDays')
			for(var i =1; i< AdvanceDays.length;i++){
        $(AdvanceDays[i]).removeClass('active_day')
        removeFunctiondays()
			}
			var AdvanceWeeks = document.getElementsByName('AdvanceWeeks')
			for(var i =1; i< AdvanceWeeks.length;i++){
        $(AdvanceWeeks[i]).removeClass('active_day')
        removeFunctionAdvanceWeeks()
			}
		}
		</script>
<script>
		{% if json_string %}
			sub_request_json = JSON.parse("{{ json_string | escapejs}}")
		{% endif %}
		HOTEL_BATCH_INPUT_UPLOAD_URL = "{% url 'hotel_batch_input_upload_flight' %}";
		CREATE_REQUEST_URL = "{% url 'hotel_plus_flight_request' %}";
		REQUEST_TYPE = 'HOTELFLIGHT';
		REQUEST_ID ='{{ request.session.requestid }}';
		Bind_Country_name = "{% url 'Bind_Country_name' %}";
		Bind_city_name = "{% url 'Bind_city_name' %}";
		Match_unmatch_Bind_hotel_name = "{% url 'Match_unmatch_Bind_hotel_name' %}";
		Bind_hotel_name_for_update = "{% url 'Bind_hotel_name_for_update' %}";
		Update_hotel_list = "{% url 'Update_hotel_list' %}";
		DBind_hotel_name_by_sup = "{% url 'DBind_hotel_name_by_sup' %}";
		hotel_all_bind_hotels = "{% url 'hotel_all_bind_hotels' %}"
	
		$(document).ready(function() {
			{% if batch_items %}
			$(".batch_list_div").show();
			{% endif %}
		})


</script>
<script src="{% static 'hotel/js/app/flight_create_request.js' %}" type="text/javascript"></script>
<script src="{% static 'hotel/js/app/batch_input_upload_flight.js' %}"></script>
<script src="/static/hotel/js/app/city_beach_holtel_flight.js"></script>
	<script>
	

	$('.dates_control').datepicker({
		minDate: '0',

	});
	$(document).ready(function () {
		///Multiselct Dropdown

		$('.multiselect_box').multiselect({
			includeSelectAllOption: true,
			buttonWidth: 250,
			enableFiltering: true,
			enableCaseInsensitiveFiltering: true
		});
		$('.multiselect_box').perfectScrollbar();
		

		$('ul.multiselect-container.dropdown-menu').perfectScrollbar();
		$('.addhotel_checkbox_contaner').perfectScrollbar();
		/*-------add manually and excel upload Start-----------*/
		$(".batch_list_div").hide();
		$(".excel_upload_btn").click(function () {
			$(".request_btn").removeClass("active");
			$(this).addClass("active");
			$(".excelupload_view").toggleClass("active")
		});



		$(".add_manually_btn").click(function () {
			$(".excelupload_view").removeClass("active");
			$(".request_btn").removeClass("active");
			$(this).addClass("active");
			$(".batch_list_div").hide();
			$(".manually_added").show();

		});

		// $(".choose_file").click(function () {
		// 	$(".excelupload_view").removeClass("active");
		// 	$(".excel_upload_btn").addClass("active");
		// 	$(".batch_list_div").show();
		// 	$(".manually_added").hide(); 
		// });
		
		$("span.close_excel").click(function(){
			$(".excelupload_view").removeClass("active");
			$(".excel_upload_btn").addClass("active");
			$(".batch_list_div").show();
			$(".manually_added").hide();
		});



		$('.pos_section').click(function () {
			$(".excelupload_view").removeClass("active");
			$(".excel_upload_btn").removeClass("active");
		});



		/*-------add manually and excel upload End-----------*/


/*-----------------------close and open--------------------*/ 
$('.edit_btn_click').click(function () {  
	$('.save_request_button').toggleClass("active");
	$('.update_request_button').toggleClass("active");
 
	
	$('.pos_section').toggleClass("active");
	$(this).closest('.edit_btn_click').toggleClass("active");
	$(this).closest('li').find('.close_btn_click').addClass('active');
	
	
	$('.pos_content').toggleClass("active");
	$(this).closest('.pos_content').toggleClass("border");
  	$(this).closest('.pos_content').removeClass("active"); 
	$("html, body").animate({
            scrollTop: 0
        }, 700);
        return false;
	
 });	

	
$('.close_btn_click').click(function () {  
	$('.save_request_button').removeClass("active");
	$('.update_request_button').removeClass("active");
 
	
	$('.pos_section').removeClass("active");
	$(this).closest('li').find('.edit_btn_click').removeClass("active");
	$(this).closest('li').find('.close_btn_click').removeClass('active');
	
	
	$('.pos_content').removeClass("active");
	$(this).closest('.pos_content').removeClass("border");
  	$(this).closest('.pos_content').removeClass("active"); 
	$("html, body").animate({
            scrollTop: 0
        }, 700);
        return false;
	
 });

/*-----------------------close and open--------------------*/ 




		/* ----------Scraping Option start----------------*/

		$(".specific_hotel_show").hide();
		$(".all_hotel").click(function(){
		
	
			if($("#drpToAir").val() == '0')
			{
				$(".all_hotel").removeClass("active");
				$("#spandestinationcity").css("display","block")
			
				return false;
			}
			$(".hotel_selection").hide();
		
		
			$("#spandestinationcity").css("display","none")
			list_hotels = []
			$("#drpHotel > option").each(function() {
				list_hotels.push(this.value)
				
			})
		//	console.log(list_hotels)
			$("#drpHotel").val(list_hotels)
			$("#drpHotel").multiselect('refresh')
			
			$("#drpHotel").multiselect("disable");
			
			$("#spanChooseHotelType").css("display","none")
		
			$("ul li .multiselect-item filter").addClass('active')
			$("ul li .multiselect-item multiselect-all").addClass('active')
			$(".scraping_btn").removeClass("active");
				$(this).addClass("active");
			 $(".specific_hotel_show").fadeOut("fast");
			 var all_hotel = true
			 $('#all_hotels').val('');
			 $('#all_hotels').val(all_hotel);
			
		});
		
		
		
		$(".specific_hotel").click(function(){
		
			if($("#drpCities").val() == '0')
			{
				$(".specific_hotel_show").removeClass("active");
				$("#spandestinationcity").css("display","block")
				return false;
			}
			$(".hotel_selection").show();
		
			$("#spanChooseHotelType").css("display","none")
			$("#spandestinationcity").css("display","none")
			$(".scraping_btn").removeClass("active");
				$(this).addClass("active");
			 $(".specific_hotel_show").fadeIn("fast");
			 $("#drpHotel").multiselect("enable");
			 $('#all_hotels').val('');
		});

		/* ----------Scraping Option End----------------*/

		/* ----------Week days Start----------------*/
		$(".days_btn").click(function () {
			$(this).toggleClass("active_day");
		});

		/* ----------Week days End----------------*/

		/* ----------Count days Start----------------*/
		$(".count_days").click(function () {
			$(this).toggleClass("count_days_selected");
		});

		/* ----------Count days End----------------*/

		/* ------------ qty plus and minus start-----------*/
		$(function () {
			$('.plus').on('click', function () {
				var $qty = $(this).closest('.counter').find('.qty');
				var currentVal = parseInt($qty.val());
				if (!isNaN(currentVal)) {
					$qty.val(currentVal + 1);
				}
			});
			$('.minus').on('click', function () {
				var $qty = $(this).closest('.counter').find('.qty');
				var currentVal = parseInt($qty.val());
				if (!isNaN(currentVal) && currentVal > 0) {
					$qty.val(currentVal - 1);
				}
			});
		});

		/* ------------ qty plus and minus End-----------*/

		$('.checkbox').change(function () {
			var inputValue = $(this).children('input[type="checkbox"]').attr("value");
			if (($(this).children('input[type="checkbox"]').prop("checked")) == true) {
				$("." + inputValue).show();

			}
			else {
				$("." + inputValue).hide();
			}


		});

		var div_1_site = $('#div_chk_box').find("input:checkbox");
		$.each(div_1_site, function (p, item) {
			var inputValue = $(item).attr("value");
			if (($(item).prop("checked")) == true) {
				$("." + inputValue).show();

			}
			else {
				$("." + inputValue).hide();
			}
		});



		$(".edit_trigger").click(function () {
			$(this).hide();
			$(this).next(".cancel_trigger").fadeIn();
			$(this).prev(".save_btn").fadeIn();
			$(this).closest(".header_boxes").next(".bli_body").children(".bars_contaner_outer").hide();
			$(this).closest(".header_boxes").next(".bli_body").children(".text_contaner_outer").fadeIn();
		});
		$(".cancel_trigger").click(function () {
			$(this).hide();
			$(this).closest(".button_contaner").children(".save_btn").hide();
			$(this).prev(".edit_trigger").fadeIn();
			$(this).closest(".header_boxes").next(".bli_body").children(".bars_contaner_outer").fadeIn();
			$(this).closest(".header_boxes").next(".bli_body").children(".text_contaner_outer").hide();
		});

		$(".show_more_data").hide();
		$("button.view_more").click(function () {
			$(".show_more_data").slideToggle();
		});

		$('button.view_more').click(function () {
			var $this = $(this);
			$this.toggleClass('button.view_more');
			if ($this.hasClass('button.view_more')) {
				$this.text('- Show Less');
			} else {
				$this.text('+ Show More');
			}
		});

	});


</script>
<script>



	$('.close').on('click', function () {

		if ($('.pos_list li').length > 1) {
			$(this).parent("a").parent("li").remove();
		}
		else {
			$(this).parent("a").parent("li").remove('');
		}
	});


 

	////////////////////////////////////////////////////////////////////////////////////////////////////////**************

	$(document).ready(function () {
		$('.addhotel_checkbox_contaner').perfectScrollbar();
	});
	$(".round_btn").click(function () {
		$(".round_btn").children().removeClass("active");
		$(this).children().addClass("active");
	});
	$(".upload_hotel_trigger").click(function () {
		$(".upload_hotel_contaner").show();
	});
	$(".choose_file ").click(function () {
		$(".upload_hotel_contaner").hide();
	});

	$(document).mouseup(function (e) { var container = $(".upload_hotel_contaner"); if (!container.is(e.target) && container.has(e.target).length === 0) { container.hide(); } });

	///Activate Scrllbar
	$(".addhotel_checkbox_contaner").mouseenter(function () {
		$('*').perfectScrollbar('update');
	});

</script>
<script type="text/javascript">

	$("#drpCountries").change(function (e) {


		$.ajax({

			url: '{% url "flight_bind_cities" %}',
			type: 'POST',
			data: { "CountryId": JSON.stringify($(this).val()) },
			success: function (data) {

				$("#drpCities").empty()
				$('#drpCities').append($('<option></option>').val("0").html("Select Option"))
				if (data['cities'] == "") {
					alert("Issue in selected country. Please contact administrator")
					return false;
				}
				else {
					for (var i = 0; i < data.cities.length; i++) {
						$('#drpCities').append($('<option></option>').val(data.cities[i].id).html(data.cities[i].name))
					}
				}
			},
			error: function () {
			}
		})

	})
	$("#drpCities").change(function (e) {


		$.ajax({
    
			url: '{% url "flight_bind_airports" %}',
			type: 'POST',
			data: { "CityId": JSON.stringify($(this).val()) },
			
			success: function (data) {

				$("#drpAirport").empty()
				$('#drpAirport').append($('<option></option>').val("0").html("Select Option"))
				if (data['airports'] == "") {
					alert("Issue in selected country. Please contact administrator")
					return false;
				}
				else {
					for (var i = 0; i < data.airports.length; i++) {
						$('#drpAirport').append($('<option></option>').val(data.airports[i].id).html(data.airports[i].code))
					}
				}
			},
			error: function () {
			}
		})

	})

	$("#drpCountries1").change(function (e) {
		
		$.ajax({

			url: '{% url "flight_bind_cities" %}',
			type: 'POST',
			data: { "CountryId": JSON.stringify($(this).val()) },
			success: function (data) {

				$("#drpCities1").empty()
				$('#drpCities1').append($('<option></option>').val("0").html("Select Option"))
				if (data['cities'] == "") {
					alert("Issue in selected country. Please contact administrator")
					return false;
				}
				else {
					for (var i = 0; i < data.cities.length; i++) {
						
						$('#drpCities1').append($('<option></option>').val(data.cities[i].id).html(data.cities[i].name))
					}
				}
			},
			error: function () {
			}
		})

	})
	$("#drpCities1").change(function (e) {

		$.ajax({

			url: '{% url "flight_bind_airports" %}',
			type: 'POST',
			data: { "CityId": JSON.stringify($(this).val()) },
			success: function (data) {

				$("#drpAirport1").empty()
				$('#drpAirport1').append($('<option></option>').val("0").html("Select Option"))
				if (data['airports'] == "") {
					alert("Issue in selected country. Please contact administrator")
					return false;
				}
				else {
					for (var i = 0; i < data.airports.length; i++) {
						$('#drpAirport1').append($('<option></option>').val(data.airports[i].id).html(data.airports[i].code))
					}
				}
			},
			error: function () {
			}
		})

	})
</script>

<script type="text/javascript">
	$("#drpToAir").change(function (e) {

		if ($("#drpFromAir").val() == 0 && $("#drpToAir").val() == 0) {
			return false;
		}
		else {
			if ($("#drpFromAir").val() === $("#drpToAir").val()) {			
				$("#drpToAir").addClass('error_field')		
				$("#spandestinationcity").css('display','none')
				$("#spandifferentAirport1").css('display','block')
				//$("#drpFromAir").val('0')
				//return false;
			}
			else{
				$("#spandestinationcity").css('display','none')
				$("#spandifferentAirport1").css('display','none')}
				//return false;

			}
			$.ajax({
				url: '{% url "flight_bind_hotels" %}',
				type: 'POST',
				data: {
					"AirportId": JSON.stringify($(this).val())
				},
				success: function (data) {
					
					if(data.Hotels == "")
					{
						Display_msg_hotel("No Hotels found in the current city. Please contact administrator", 2)
						$("#drpHotel").empty()
						$("#drpHotel").attr("class", "multiselect_box form-control")
						$('#drpHotel').multiselect('rebuild');
						return false
					}
					else
					{       
						$("#drpHotel").empty()
						$("#drpHotel").attr("class", "multiselect_box form-control")
						for (var hotels in data.Hotels) {
						
							$('#drpHotel').append($('<option></option>').val(data.Hotels[hotels].id).html(data.Hotels[hotels].name))
						}
				}
				 $('#drpHotel').multiselect('rebuild');
				},
				error: function (xhr, errorType, exception) {
					Display_msg_hotel("Something went wrong.Please contact administrator", 2)
					console.log(xhr, errorType, exception)
				}
			})
	})




	/////////////////////////////////////////////////////////////////////
	$("#drpFromAir").change(function (e) {

		if ($("#drpFromAir").val() == 0 && $("#drpToAir").val() == 0) {
			return false;
		}
		else {
			if ($("#drpToAir").val() === $("#drpFromAir").val()) {			
				$("#drpFromAir").addClass('error_field')		
				$("#spandestinationcountry").css('display','none')
				$("#spandifferentAirport").css('display','block')
				//$("#drpFromAir").val('0')
				//return false;
			}
			else{
				$("#spandestinationcountry").css('display','none')
				$("#spandifferentAirport").css('display','none')}
				//return false;

			}
	})





	$("#drpCities1").change(function (e) {

		if ($("#drpCities1").val() == 0 && $("#drpCities").val() == 0) {
			return false;
		}
		else {
			if ($("#drpCities").val() === $("#drpCities1").val()) {
				$("#drpCities1").addClass('error_field')
				$("#spandrpCities1").css('display','none')
				$("#spandifferentCountries1").css('display','block')
			}
			else{
				$("#spandrpCities1").css('display','none')
				$("#drpCities1").removeClass('error_field')
				$("#spandifferentCountries1").css('display','none')}
			}
	})

	$("#drpCities").change(function (e) {

		if ($("#drpCities").val() == 0 && $("#drpCities1").val() == 0) {
			return false;
		}
		else {
			if ($("#drpCities1").val() === $("#drpCities").val()) {
				$("#drpCities").addClass('error_field')
				$("#spandrpCities").css('display','none')
				$("#spandifferentCountries").css('display','block')
			}
			else{
				$("#spandrpCities").css('display','none')
				$("#drpCities").removeClass('error_field')
				$("#spandifferentCountries").css('display','none')}
			}
	})

	$("#btnReset").click(function (e) {

    $(":input[type=text]").val('')
    $("#drpFromAir").val('0')
    $('#drpToAir').val('0')
    $('#AllHotel').removeClass('active')
    $('#SpecificHotel').removeClass('active')
    //MultiSelect Drop 
    $('#txtAdultCount').val('1')
    $('#txtChildrenCount').val('1')
    $("#drppointofsale").val('0')
		$('#drpHotel').val("").multiselect('refresh')
		$('#drpRoomType').val("").multiselect('refresh')
		$("#drpBoardType").val("").multiselect("refresh");
		$("#drpStarRating").val("").multiselect("refresh");

		

		
    document.getElementById('get_values').innerHTML = ''
    daterange_added_value = []
    document.getElementById('get_values_advancedays').innerHTML = ''
    document.getElementById('get_values1').innerHTML = ''
    added_value_advancedays = []
    advancedays_value_nights = []
    document.getElementById('get_values2').innerHTML = ''
    document.getElementById('get_date_values').innerHTML = ''
    multi_nights_added_value = []
    document.getElementById('get_values_advanceweeks').innerHTML = ''
    document.getElementById('get_values3').innerHTML = ''
    advance_weeks_added_value = []
    advance_weeks_nights = []


  })



$("#btnSaveRequest,#btnUpdateRequest").click(function (e) {
	var hotel_req_id = $('#hdn_hotel_req_id').val()


		var destinationmodel = {}  //will set destination details in the model
		var daterangemodel = {} //will set date range model

		var requestname = $("#txtRequestName").val()
		var requestdesc = $("#txtRequestDesc").val()
		var all_hotel_val = $("#all_hotels").val()
		

		if (requestname == null || requestname == "") {
			$("#txtRequestName").addClass('error_field')
  			$("#spanrequestname").css('display','block')
			return false;
		}
		if (requestdesc == null || requestdesc == "") {
			$("#txtRequestDesc").addClass('error_field')
			$("#spanrequestdescr").css('display','block')	
			return false;
		}

		var AdultCount = $("#txtAdultCount").val()
    if (AdultCount == null || AdultCount == 0)
    {
      $("#txtAdultCount").addClass('error_field')
      $("#spanAdultCount").css('display','block')
      return false;
    }
    else{
      
      $("#txtAdultCount").removeClass('error_field')
      $("#spanAdultCount").css('display','none')
    }
    var ChildrenCount = $("#txtChildrenCount").val()
    //if (ChildrenCount == null )
    //{
    //  $("#txtChildrenCount").addClass('error_field')
    //  $("#spanChildrenCount").css('display','block')
    //  return false;
   // }
    //else{
    //  $("#txtChildrenCount").removeClass('error_field')
    //  $("#spanChildrenCount").css('display','none')
   // }

	var reporttype = $("#drpreporttype").val()
//		if (reporttype == 0) {
//			$("#drpreporttype").addClass('error_field')
//			$("#spanreport").css('display','block')
//			return false;
//		}
		var email = $("#btnemail").val()
		var email_cc = $("#btncc").val()
		var drp_mul_grp_name = $("#drp_mul_grp_name").val()
		var Hotel_grp = $("#drp_htls_by_grp").val()


		


		if ($("#Is_airportcode").attr("class") == "active icons airport_icon" || $("#Is_airportcode").attr("class") == "icons airport_icon active") 
		{

			var drpFromAir = $("#drpFromAir").val()
			var drpToAir = $("#drpToAir").val()
			if (drpFromAir == 0) {
				$("#drpFromAir").addClass('error_field')
				$("#spandestinationcountry").css('display','block')
				return false;
			}
			if (drpToAir == 0) {
				$("#drpToAir").addClass('error_field')
				$("#spandestinationcity").css('display','block')
				return false;
			}

			var crawlmode = null
			if ($("#divHotelCrawlMode")[0].children[0].className == "all_hotel scraping_btn active") {
			  crawlmode = 1 //All Hotel
			} else if ($("#divHotelCrawlMode")[0].children[1].className == "specific_hotel scraping_btn active") {
			  crawlmode = 2 //SpecificBookingPeriod
		
			} 
			else {
			  $("#spanChooseHotelType").css("display","block")
			  $("#spanChooseHotelType").text('Please select scraping option : All Hotel or Specific')
				//Display_msg_hotel("Please select scraping option : All Hotel or Specific", 2)
				//$("#a_msg_cancel").click(function(e)
			   // {
				//  $('#hotel_file_upload').focus();
				//})
			  return false;
			}
			total_hotel = []
			var Hotel = $("#drpHotel").val();

			var city_beach = $("#all_hotels_city_beach").val();
			if(city_beach == 1 || city_beach == ''){
			
			if (Hotel == 0 || Hotel == null || Hotel == undefined) {
        Display_msg_hotel("Please select Hotel", 2)
        $("#a_msg_cancel").click(function(e)
        {
          $('#drpHotel').focus();
        })
			return false;
			}
		}
		var Hotel_grp = $("#drp_htls_by_grp").val()
		
		  if (Hotel == null && Hotel_grp == null){
				
				
				//console.log(total_hotel)

			}
			else if (Hotel != '' && Hotel_grp == null){
				total_hotel.push(Hotel)
			//	var Hotel_grp = $("#drp_htls_by_grp").val()
			}
			else if(Hotel == null && Hotel_grp != ''){
        total_hotel.push(Hotel_grp)
			}
			else{
				total_hotel.push(Hotel)
				total_hotel.push(Hotel_grp)
			}
			//if (Hotel_grp != null){
			//total_hotel.push(Hotel_grp)}



			//console.log(total_hotel)
			//return false
			//var RoomType = $("#drpRoomType").val()
			var span_tag = $('#tags').find('span');
			if ($('#hdn_txt_room_type').val().length <  140) {
				if (span_tag.length >= 0 && span_tag.length < 11) {
					var RoomType=$('#hdn_txt_room_type').val();
				}
				else {
					alert('room type can not be more than 10 !!');
					return false;
				}
			}
			else {
				alert('total word count not greater than 140 !!!')
				return false;
			}

		
			var BoardType = $("#drpBoardType").val()


			var StarRating = $("#drpStarRating").val()
      

			destinationmodel = {
				'FromAir': drpFromAir,
				'ToAir': drpToAir,
				'crawlmode': crawlmode,
				'hotels': total_hotel,
				'roomtype': RoomType,
				'boardtype': BoardType,
				'starrating': StarRating,
				"mode": 1
			}
		}


		if ($("#Is_countrycode").attr("class") == "icons country_icon active" || $("#Is_countrycode").attr("class") == "active icons country_icon")
		 {

			var drpCountries = $("#drpCountries").val()
			var drpCountries1 = $("#drpCountries1").val()

			if (drpCountries == 0) {
				$("#drpCountries").addClass('error_field')
				$("#spandrpCountries").css('display','block')	
				return false
			}
		
			if (drpCountries1 == 0) {
				$("#drpCountries1").addClass('error_field')
				$("#spandrpCountries1").css('display','block')
				return false
			}
	

			var drpCities = $("#drpCities").val()
			var drpCities1 = $("#drpCities1").val()
			if (drpCities == 0) {
				$("#drpCities").addClass('error_field')
				$("#spandrpCities").css('display','block')
				return false
			}
			else{
				$("#spandrpCities").css('display','none')

			}

			if (drpCities1 == 0) {
				$("#drpCities1").addClass('error_field')
				$("#spandrpCities1").css('display','block')
				return false
			}
			else{
				$("#spandrpCities1").css('display','none')

			}
			var drpAirport = $("#drpAirport").val()
			var drpAirport1 = $("#drpAirport1").val()
			if (drpAirport == 0) {
				$("#drpAirport").addClass('error_field')
				$("#spandrpAirport").css('display','block')
				return false;
			}
			else{
				$("#spandrpAirport").css('display','none')
			}
			if (drpAirport1 == 0) {
				$("#drpAirport1").addClass('error_field')
				$("#spandrpAirport1").css('display','block')
				return false;
			}
			else{
				$("#spandrpAirport1").css('display','none')

			}

			destinationmodel = {
				'FromCountries': drpCountries,
				'ToCountries': drpCountries1,
				'FromCities': drpCities,
				'ToCities': drpCities1,
				'FromAirport': drpAirport,
				'ToAirport': drpAirport1,
				"mode": 2
			}
		}
		var pointofsale = $("#drppointofsale").val()

		if (pointofsale == 0) {
			$("#drppointofsale").addClass('error_field')
			$("#spanpos").css('display','block')
			return false;
		}

		var Suppliers = null

    if ($("#ls_daterangedays").attr("class") == "active icons date_range_icon" || $("#ls_daterangedays").attr("class") == "icons date_range_icon active") //Date Range
		{
		  Suppliers = $("#drpsuppliers").val()
		  if (Suppliers == 0 || Suppliers == null) {
			$("#drpsuppliers").addClass('error_field')
			$("#spanSuppliersDateRange").css('display','block') 
			return false;
		  }
	
		  if ($("#txtDateRangeFrom").val() == "") {
			$("#txtDateRangeFrom").addClass('error_field')
			$("#spanDateRangeFrom").css('display','block') 
			return false
		  }
		  if ($("#txtDateRangeTo").val() == "") {
			$("#txtDateRangeTo").addClass('error_field')
			$("#spanDateRangeTo").css('display','block') 
			return false
		  }
		  Fromdate = $("#txtDateRangeFrom").val()
		  ToDate = $("#txtDateRangeTo").val()
		  var startdate = Fromdate
		  var enddate = ToDate
		  if(startdate > enddate) {
		  
			$("#spanDateRangeFrom").css("display","block")
			$("#spanDateRangeFrom").text("To Date cannot be less than from date")
			//Display_msg_hotel("To Date cannot be less than from date",2)
			return false
		  } 
		  $("#spanDateRangeFrom").text("")
		  var flag = 0
		  var dict_weekdays = {}
		  var list_weekdays = []
		 
		  $("#divWeekDays a").each(function (index, value) {
			if ($(value).attr('class') == 'days_btn active_day' || $(value).attr('class') == 'active_day days_btn') {
			  flag = 1
			  list_weekdays.push(value.innerHTML.toString().trim())
			 
			  $("#divWeekDays").removeClass('error_field')
			  $("#spanWeekDays").css("display","none")
			}
		  })
		  if (flag == 0) {
			
			$("#divWeekDays").addClass('error_field')
			$("#spanWeekDays").css("display","block")
		   // Display_msg_hotel("Please choose weekdays", 2)
			return false
		  }
		  var notlistedays = []
		  var selecteddates = getDayOfWeek(Fromdate, ToDate, list_weekdays) //From and to Date
	
		  for (var i = 0; i < list_weekdays.length; i++) {
			var flag = false
			for (var j = 0; j < selecteddates.length; j++) {
			  if (list_weekdays[i] == selecteddates[j]) {
				flag = true
			  }
			}
			if (flag == false) {
			  notlistedays.push(list_weekdays[i])
			}
		  }
	
		  if (notlistedays.length > 0) {
			if (notlistedays == 1) {
			  $("#spanWeekDays").css('display','block')
			  $("#spanWeekDays").text("Selected day " + notlistedays + " do not belong in the given date range")
			  //Display_msg_hotel("Selected day " + notlistedays + " do not belong in the given date range", 2)
			  
			  return false
			}
			else {
			  $("#spanWeekDays").css('display','block')
			  $("#spanWeekDays").text("Selected day " + notlistedays + " does not belong in the given date range")
			  //Display_msg_hotel("Selected days " + notlistedays + " does not belong in the given date range", 2)
			  return false
			}
		  }
		  dict_weekdays['CheckInDates'] = list_weekdays
		  var flag_get_value = 0
		  var days_flag = 0
		  var dict_number_nights = {}
		  var list_number_nights = []
		  $("#get_values a").each(function (index, value) {
			if (index >= 0) {
			  if ($(value).attr('class') == 'count_days_selected count_days') {
				flag_get_value = 1
				list_number_nights.push(value.innerHTML.toString().trim())
			  }
			}
		  })
	
	
		  $("#divrowDateRange a").each(function (index, value) {
			if ($(value).attr('class') == 'count_days count_days_selected') {
			  days_flag = 1
			  list_number_nights.push(value.innerHTML.toString().trim())
			}
		  })
		  if (flag_get_value == 0) {
			if (days_flag == 0) {
			   $("#spandaterangenights").css('display',"block")
			   $("#spandaterangenights").text("Please choose number of nights");
			 // Display_msg_hotel("Please choose number of nights", 2)
			  return false
			}
		  }
			dict_number_nights['CheckOutDates'] = list_number_nights
			if (list_number_nights.length > 10){
				$("#spandaterangenights").css('display',"block")
			  $("#spandaterangenights").text("Number of Selection should not be greater than 10");
        return false
      }
		  daterangemodel = {
			'fromdate': Fromdate,
			'todate': ToDate,
			'BookingPeriod': 1,
			'suppliers': Suppliers,
			'CheckIndates': dict_weekdays,
			'CheckOutDates': dict_number_nights
		  }
		}
    else if ($("#ls_advancedays").attr('class') == "icons advance_days_icon active" || $("#ls_advancedays").attr('class') == "active icons advance_days_icon") //Advance Days
		{
		  Suppliers = $("#drpsuppliers1").val()
		  if (Suppliers == 0 || Suppliers == null) {
			$("#drpsuppliers1").addClass('error_field')
			$("#spanadvancesuppliers").css('display','block') 
		  //  Display_msg_hotel("Please select suppliers", 2)
		   // $("#a_msg_cancel").click(function(e)
		   // {
			//  $('#drpsuppliers1').focus();
			//})
			return false;
		  }
	
		  flag = 0
		  dict_advancedays = {}
		  var list_advancedays = []
		  $("#divAdvanceDays a").each(function (index, value) {
			if ($(value).attr('class') == 'count_days_selected count_days' || $(value).attr('class') == 'count_days count_days_selected' || $(value).attr('class') == 'days_btn active_day' || $(value).attr('class') == 'active_day days_btn') {
			  flag = 1
			  list_advancedays.push(value.innerHTML.toString().trim())
			}
		  })
		  if (flag == 0) {
			$("#spanadvancedayserror").css("display","block")
			$("#spanadvancedayserror").text("Please choose Advance Days")
		   // Display_msg_hotel("Please choose Advance Days", 2)
			return false
		  }
		  $("#spanadvancedayserror").text("")
		  dict_advancedays['CheckInDates'] = list_advancedays
	
		  flag = 0
		  var dict_number_nights = {}
		  var list_number_nights = []
		  $("#divrowDateRange1 a").each(function (index, value) {
			if ($(value).attr('class') == 'count_days count_days_selected' || $(value).attr('class') == 'count_days_selected count_days') {
			  flag = 1
			  list_number_nights.push(value.innerHTML.toString().trim())
			}
		  })
		  if (flag == 0) {
			$("#spanadvancenightsserror").css("display","block")
			$("#spanadvancenightsserror").text("Please choose number of nights")
		   // Display_msg_hotel("Please choose number of nights", 2)
			return false
		  }
		  
			dict_number_nights['CheckOutDates'] = list_number_nights
			if (list_number_nights.length > 10){
        $("#spanadvancenightsserror").css("display","block")
		  	$("#spanadvancenightsserror").text("Number of Selection should not be greater than 10");
        return false
      }
		  daterangemodel = {
			'CheckInDates': dict_advancedays,
			'CheckOutDates': dict_number_nights,
			'BookingPeriod': 2,
			'suppliers': Suppliers
		  }
		}
    else if ($("#ls_checkindays").attr('class') == 'icons check_in_icon active'|| $("#ls_checkindays").attr('class') == 'active icons check_in_icon' ) //Check In Days 
		{
		  Suppliers = $("#drpsuppliers2").val()
		  if (Suppliers == 0 || Suppliers == null) {
			$("#drpsuppliers2").addClass('error_field')
			$("#spanSuppliersCheckInDateserror").css("display","block")
			//Display_msg_hotel("Please select suppliers", 2)
			//$("#a_msg_cancel").click(function(e)
		   // {
		   //   $('#drpsuppliers2').focus();
		  //  })
			return false;
		  }
		  
	
		  if (document.getElementsByName('txtstartdate').length > 0) {
			for (var i = 0; i < document.getElementsByName('txtstartdate').length; i++) {
			  if (document.getElementsByName('txtstartdate')[i].value == "") {
				$("#spanstartdateerror").css("display","block")
				$("#spanstartdateerror").text("Please set start date")
			  //  Display_msg_hotel("Please set start date", 2)
				return false
			  } else {
				list_advancedays.push(document.getElementsByName('txtstartdate')[i].value)
				
			  }
			}
		  }
		  $("#spanstartdateerror").css("display","none")
		  dict_advancedays = {}
		  var list_advancedays = []
		  $("#divStartDate a").each(function (index, value) {
			if ($(value).attr('class') == 'count_days_selected count_days' || $(value).attr('class') == 'count_days count_days_selected') {
			  flag = 1
			  list_advancedays.push(value.innerHTML.toString().trim())
			}
		  })
		  if (flag == 0) {
			$("#spanstartdateerror").css("display","block")
			$("#spanstartdateerror").text("Please choose Start date")
			//Display_msg_hotel("Please choose Start date", 2)
			return false
		  }
		 
		  $("#spanstartdateerror").css("display","none")
		  $("#spanstartdateerror").text("")
	
		  dict_advancedays['CheckInDates'] = list_advancedays
	
		  flag = 0
		  var dict_number_nights = {}
		  var list_number_nights = []
		  $("#divstartnights a").each(function (index, value) {
			if ($(value).attr('class') == 'count_days count_days_selected' || $(value).attr('class') == 'count_days_selected count_days' ) {
			  flag = 1
			  list_number_nights.push(value.innerHTML.toString().trim())
			}
		  })
		  if (flag == 0) {
			$("#spanstartnightserror").css('display','block')
			$("#spanstartnightserror").text("Please choose number of nights")
			//Display_msg_hotel("Please choose number of nights", 2)
			return false
		  }
		  $("#spanstartnightserror").text("")
			dict_number_nights['CheckOutDates'] = list_number_nights
			if (list_number_nights.length > 10){
        $("#spanstartnightserror").css('display','block')
			  $("#spanstartnightserror").text("Number of Selection should not be greater than 10");
        return false
      }
	
		  daterangemodel = {
			'CheckInDates': dict_advancedays,
			'CheckOutDates': dict_number_nights,
			'BookingPeriod': 3,
			'suppliers': Suppliers
		  }
		} 
    else if ($("#ls_advanceweekdays").attr('class') == 'icons advance_weeks_icon active'||$("#ls_advanceweekdays").attr('class') == 'active icons advance_weeks_icon') //Advance Week Days
		{
		  Suppliers = $("#drpsuppliers3").val()
		  if (Suppliers == 0 || Suppliers == null) {
			$("#spanSuppliersAdvWeekserror").addClass("error_field")
			$("#spanSuppliersAdvWeekserror").css("display","block")
	
			//Display_msg_hotel("Please select suppliers", 2)
			//$("#a_msg_cancel").click(function(e)
			//{
			 // $('#drpsuppliers3').focus();
			///})
			return false;
		  }
		  $("#spanSuppliersAdvWeekserror").css("display","none")
		  flag = 0
		  dict_advancedays = {}
		  var list_advancedays = []
		  $("#divAdvanceWeeks a").each(function (index, value) {
			if ($(value).attr('class') == 'days_btn active_day' || $(value).attr('class') == 'count_days_selected count_days' || $(value).attr('class') == 'count_days count_days_selected' || $(value).attr('class') == 'active_day days_btn') {
			  flag = 1
			  list_advancedays.push(value.innerHTML.toString().trim())
				}
		  })
		  if (flag == 0) {
			$("#spanadvanceweekerror").css("display","block")
			$("#spanadvanceweekerror").text("Please choose Advance Weeks")
			//Display_msg_hotel("Please choose Advance Weeks", 2)
			return false
		  }
		 
		  $("#spanadvanceweekerror").hide()
		  $("#spanadvanceweekerror").text("")
		  dict_advancedays['CheckInDates'] = list_advancedays
		
	
		  flag = 0
		  var dict_number_nights = {}
		  var list_number_nights = []
		  $("#divAdvanceWeekNights a").each(function (index, value) {
			if ($(value).attr('class') == 'count_days count_days_selected' || $(value).attr('class') == 'count_days_selected count_days') {
			  flag = 1
			  list_number_nights.push(value.innerHTML.toString().trim())
			}
		  })
		  if (flag == 0) {
			$("#spanadvweeknightserror").css("display","block")
			$("#spanadvweeknightserror").text("Please choose number of nights")
		   // Display_msg_hotel("Please choose number of nights", 2)
			return false
		  }
	
			dict_number_nights['CheckOutDates'] = list_number_nights
			if (list_number_nights.length > 10){
        $("#spanadvweeknightserror").css("display","block")
        $("#spanadvweeknightserror").text("Number of Selection should not be greater than 10");
        return false
      }
	
		  daterangemodel = {
		
			'CheckInDates': dict_advancedays,
			'CheckOutDates': dict_number_nights,
			'BookingPeriod': 4,
			'suppliers': Suppliers
		  }
		}

		var requestprofilemodel = {
			'requestname': requestname,
			'requestdesc': requestdesc,
			'pos': pointofsale,
			'adults': AdultCount,
			'all_hotel_val': all_hotel_val,
			'children': ChildrenCount,
      'hotel_req_id' : hotel_req_id,  
			'reporttype' : reporttype,
			'email':email,
			'email_cc':email_cc,
			'drp_mul_grp_name':drp_mul_grp_name,
		}

		console.log(requestprofilemodel)
		console.log(destinationmodel)
		console.log(daterangemodel)
   
		
		$.ajax({
			url: '{% url "Rflight_save_request" %}',
			type: 'POST',
			data: { requestmodel: JSON.stringify(requestprofilemodel),
				 destinationmodel: JSON.stringify(destinationmodel),
				 daterangemodel: JSON.stringify(daterangemodel)
				},

			success: function (data) {

				request_id = data.request_id;
        if (data.flag == "0") {
					Display_msg_hotel("Request created successfully", 1);
					$("#a_msg_success").click(function (e) {
            $(this).attr('href', '{% url "hotel_plus_flight_request" %}'+ request_id)
        });
         // window.location.href = '{% url "hotel_plus_flight_request" %}' + request_id;
				} 
				else{
					Display_msg_hotel("Request Updated successfully", 1);
					$("#a_msg_success").click(function (e) {
            $(this).attr('href', '{% url "hotel_plus_flight_request" %}'+ request_id)
        });
         // window.location.href = '{% url "hotel_plus_flight_request" %}' + request_id;  
         
        }
			
			},
			error: function (xhr, errorType, exception) {
        Display_msg_hotel("Something went wrong.Please contact administrator", 0)
        $("#a_msg_cancel").click(function (e) {
          $(".error_popup").hide()
          $(".box_overlay").hide()
      });
        console.log(xhr, errorType, exception)
      }
		})

	})

	
  function getDayOfWeek(fromdate, todate, list_weekdays) {
    var list_Days = []
    var startdate = new Date(fromdate)
    var enddate = new Date(todate)
    while (startdate <= enddate) {
      var dayOfWeek = startdate.getDay();
      list_Days.push(isNaN(dayOfWeek) ? null : ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday',
        'Saturday'
      ][dayOfWeek])
      startdate = startdate.setDate(startdate.getDate() + 1);
      startdate = new Date(startdate)
    }
    return list_Days
  }

  $("#hotel_file_upload").on('change', function () {

    $("#spanhotel").css("display","none")
    var formdata = new FormData();
		formdata.append(this.files[0].name, this.files[0]);
		flag = 0
    $.ajax({
      url: ' {% url "hotels_specific_upload" %}',
      type: 'POST',
      data: formdata,
      datatype: "json",
      contentType: false,
      processData: false,
      success: function (data) {
        if (data.hotels == "") {
					Display_msg_hotel("Input File contains invalid column", 2)
					$('.file_type').text('');
					$('.file_type').css('opacity','0');
					$('#SpecificHotel').removeClass('active')
					$('.specific_hotel_show').css('display','none'); 
          return false;
				} 
				else {
					list_hotels = []
					list_non_hotels = []
          for (var i in data.hotels) {
            $("#drpHotel > option").each(function () {
              if (this.text == data.hotels[i]) {
                list_hotels.push(this.value)
							}
							else{
								list_non_hotels.push(data.hotels[i])
								flag =1 
							}
						});
						if(flag == 1){
							
						}
            $("#drpHotel").val(list_hotels)
          }
          $("#drpHotel").multiselect('refresh')
        }

      },
      error: function (xhr, errorType, exception) {
        Display_msg_hotel("Something went wrong.Please contact administrator", 2)
        console.log(xhr, errorType, exception)
      }
    })
  });

	$("#txtRequestName").change(function(e){
		if($(this).val() == "")
		{
		   $("#spanrequestname").css("display","block")
		}
		else
		{
		 $("#spanrequestname").css("display","none")
		 $("#txtRequestName").removeClass('error_field')
		}
	  })
	  $("#txtRequestDesc").change(function(e){
		if($(this).val() == "")
		{
		   $("#spanrequestdescr").css("display","block")
		}
		else
		{
		 $("#spanrequestdescr").css("display","none")
		 $("#txtRequestDesc").removeClass('error_field')
		}
	  })
	  
	  $("#drppointofsale").change(function(e){
		if($(this).val() == '0')
		{
		  $("#drppointofsale").addClass('error_field')
		  $("#spanpos").css("display","block")
		}
		else
		{
		  $("#spanpos").css("display","none")
		  $("#drppointofsale").removeClass('error_field')
		}
		})

		$("#drpCountries").change(function (e) {
			if($(this).val() == '0'){

					$("#drpCountries").addClass('error_field')
					$("#spandrpCountries").css('display','none')
					
				}
				else{
					$("#spandrpCountries").css('display','none')
					$("#drpCountries").removeClass('error_field')
					}
		})

		$("#drpCountries1").change(function (e) {
			if($(this).val() == '0'){
					$("#drpCountries1").addClass('error_field')
					$("#spandrpCountries1").css('display','none')
				}
				else{
					$("#spandrpCountries1").css('display','none')
					$("#drpCountries1").removeClass('error_field')
				}
		})
		


	  $("#drpFromAir").change(function(e){
		if($(this).val() == '0')
		{
		  $("#drpFromAir").addClass('error_field')
		  $("#spandestinationcountry").css("display","block")
		}
		else
		{
		  $("#spandestinationcountry").css("display","none")
		  $("#drpFromAir").removeClass('error_field')
		}
		})
		
	  $("#drpToAir").change(function (e){
		if($(this).val() == '0')
		{
		  $("#drpToAir").addClass('error_field')
		  $("#spandestinationcity").css("display","block")
		}
		else
		{
		  $("#spandestinationcity").css("display","none")
		  $("#drpToAir").removeClass('error_field')
		}
	  })



	  $("#drpCities").change(function(e){
		if($(this).val() == '0')
		{
		  $("#drpCities").addClass('error_field')
		  $("#spandrpCities").css("display","block")
		}
		else
		{
		  $("#spandrpCities").css("display","none")
		  $("#drpCities").removeClass('error_field')
		}
	  })

	  $("#drpCities1").change(function(e){
		if($(this).val() == '0')
		{
		  $("#drpCities1").addClass('error_field')
		  $("#spandrpCities1").css("display","block")
		}
		else
		{
		  $("#spandrpCities1").css("display","none")
		  $("#drpCities1").removeClass('error_field')
		}
	  })

	  $("#drpAirport").change(function(e){
		if($(this).val() == '0')
		{
		  $("#drpAirport").addClass('error_field')
		  $("#spandrpAirport").css("display","block")
		}
		else
		{
		  $("#spandrpAirport").css("display","none")
		  $("#drpAirport").removeClass('error_field')
		}
	  })

	  $("#drpAirport1").change(function(e){
		if($(this).val() == '0')
		{
		  $("#drpAirport1").addClass('error_field')
		  $("#spandrpAirport1").css("display","block")
		}
		else
		{
		  $("#spandrpAirport1").css("display","none")
		  $("#drpAirport1").removeClass('error_field')
		}
	  })





	  $("#drpHotel").change(function (e)
	  {
		if($(this).val() == '0')
		{
		  $("#drpHotel").addClass('error_field')
		  $("#spanHotel").css("display","block")
		}
		else
		{
		  $("#spanHotel").css("display","none")
		  $("#drpHotel").removeClass('error_field')
		}
	  })

</script> 
<!--  Date Range Tabs number of nights-->
<script type="text/javascript">
	//number of nights date range
	var daterange_added_value = [];
	function generateRow() {
	  if (!document.getElementById("gnBtn")) {
		var d = document.getElementById("spannights");
		d.innerHTML = ''
		d.innerHTML += "<span><input type='number' name='' min='7' id='gnBtn'></span>";
		var d = document.getElementById("btn");
		$('.append_div').css({
		  "display": "inline-block"
		});
	  }
	}
  
	function GetVAlue() {
	  var flag = true
	  var d = document.getElementById("gnBtn").value;
	  if ($('#gnBtn').val() == "") { } else {
		list_main = []
		$("#divrowDateRange a").each(function (index, value) {
		  if (index >= 0) {
			if (parseInt(d) == parseInt($(value).text())) {
			  $("#spandaterangenights").css("display","block")
			  $("#spandaterangenights").text("Already added")
  //            Display_msg_hotel("Already Added", 2)
			  flag = false
			  return false
			}
		  }
		})
  
		if (flag == true) {
		
		  daterange_added_value.push(d);
		  showRecord();
		  document.getElementById("gnBtn").remove();
		}
	  }
	}
  
	function showRecord() {
	  var d = document.getElementById("get_values");
	  d.innerHTML = "";
	  if (daterange_added_value.length > 0) {
		for (var i = 0; i < daterange_added_value.length; i++) {
		  d.innerHTML +=
			"<a href='javascript:void(0);' class='count_days_selected count_days' name='gn_value' id='gn_value_" + i +
			" '>" + daterange_added_value[i] + "</a>";
		}
	  }
	}
  
	function removeFunction() {
	  daterange_added_value.splice(daterange_added_value.length - 1, 1)
	  showRecord()
	}
	$(document).ready(function (e) {
  
	  $(document).on('blur', '#gnBtn', function () {
		GetVAlue();
		$("#spandaterangenights").css("display","none")
		$("#spandaterangenights").text("")
	  });
	})
  
	$(document).on('blur', '#divWeekDays a', function () {
	  $("#divWeekDays a").each(function (index, value) {
		if ($(value).attr('class') == 'days_btn active_day' || $(value).attr('class') == 'active_day days_btn') {
		  flag = 1
		  $("#divWeekDays").removeClass('error_field')
		  $("#spanWeekDays").css("display","none")
		}
	  })
	  if (flag == 0) {
		
		$("#divWeekDays").addClass('error_field')
		$("#spanWeekDays").css("display","block")
		// Display_msg_hotel("Please choose weekdays", 2)
		return false
	  }
	  
	});
	$(document).on('blur', '#divrowDateRange a', function () {
	  $("#divrowDateRange a").each(function (index, value) {
		if ($(value).attr('class') == 'count_days count_days_selected' || $(value).attr('class') == 'count_days_selected count_days') {
		  flag = 1
		  $("#divrowDateRange").removeClass('error_field')
		  $("#spandaterangenights").css("display","none")
		}
	  })
	  if (flag == 0) {
		$("#divrowDateRange").addClass('error_field')
		$("#spandaterangenights").css("display","block")
		// Display_msg_hotel("Please choose weekdays", 2)
		return false
	  }
	})
  
	
	// Advance Days   
	var added_value_advancedays = [];
  
	function generateRowdays() {
	  if (!document.getElementById("gnBtndays")) {
		var d = document.getElementById("spanadvancedays");
		d.innerHTML += "<span><input type='number' name='' min='2' id='gnBtndays'></span>";
		var d = document.getElementById("btn");
		$('.append_div').css({
		  "display": "inline-block"
		});
	  }
	}
  
  
	function GetVAluedays() {
	  var flag = true
	  var d = document.getElementById("gnBtndays").value;
	  if ($('#gnBtndays').val() == "") { } else {
		list_main = []
		$("#divAdvanceDays a").each(function (index, value) {
		  if (index >= 0) {
			if (parseInt(d) == parseInt($(value).text())) {
			  
			  //Display_msg_hotel("Already Added", 2)
			  flag = false
			  return false
			}
		  }
		})
  
		if (flag == true) {
		  added_value_advancedays.push(d);
		  showRecorddays();
		  document.getElementById("gnBtndays").remove();
		}
	  }
	}
  
  
	function showRecorddays() {
	  var d = document.getElementById("get_values_advancedays");
	  d.innerHTML = "";
  
	  for (var i = 0; i < added_value_advancedays.length; i++) {
		d.innerHTML += "<a href='javascript:void(0);' class='count_days_selected count_days' id='gn_value_" + i + " '>" +
		  added_value_advancedays[i] + "</a>";
  
	  }
	}
  
	function removeFunctiondays() {
	  added_value_advancedays.splice(added_value_advancedays.length - 1, 1)
	  showRecorddays()
	}
  
  
  
	$(document).on('blur', '#divAdvanceDays a', function () {
	  $("#divAdvanceDays a").each(function (index, value) {
		if ($(value).attr('class') == 'days_btn active_day' || $(value).attr('class') == 'active_day days_btn') {
		  flag = 1
		  $("#divAdvanceDays").removeClass('error_field')
		  $("#spanadvancedayserror").css("display","none")
		}
	  })
	  if (flag == 0) {
		
		$("#divAdvanceDays").addClass('error_field')
		$("#spanadvancedayserror").css("display","block")
		// Display_msg_hotel("Please choose weekdays", 2)
		return false
	  }
	  
	});
  
	$(document).on('blur', '#divrowDateRange1 a', function () {
	  $("#divrowDateRange1 a").each(function (index, value) {
		if ($(value).attr('class') == 'count_days count_days_selected' || $(value).attr('class') == 'count_days_selected count_days') {
		  flag = 1
		  $("#divrowDateRange1").removeClass('error_field')
		  $("#spanadvancenightsserror").css("display","none")
		}
	  })
	  if (flag == 0) {
		
		$("#divrowDateRange1").addClass('error_field')
		$("#spanadvancenightsserror").css("display","block")
		// Display_msg_hotel("Please choose weekdays", 2)
		return false
	  }
	  
	});
  
  
	$(document).ready(function (e) {
  
	  $(document).on('blur', '#gnBtndays', function () {
		GetVAluedays();
	  });
  
	})
  
	//advance night days
	var advancedays_value_nights = [];
  
	function generateRow1() {
  
	  if (!document.getElementById("gnBtn1")) {
		var d = document.getElementById("spannights1");
		d.innerHTML += "<span><input type='number' name='' min=7 id='gnBtn1'></span>";
		var d = document.getElementById("btn");
		$('.append_div').css({
		  "display": "inline-block"
		});
	  }
	}
  
	function GetVAlue1() {
	  var flag = true
	  var d = document.getElementById("gnBtn1").value;
	  if ($('#gnBtn1').val() == "") { } else {
		list_main = []
		$("#divrowDateRange1 a").each(function (index, value) {
		  if (index >= 0) {
			if (parseInt(d) == parseInt($(value).text())) {
			 // Display_msg_hotel("Already Added", 2)
			  flag = false
			}
  
		  }
		})
		if (flag == true) {
		  advancedays_value_nights.push(d);
		  showRecord1();
		  document.getElementById("gnBtn1").remove();
		}
	  }
	}
  
	function showRecord1() {
	  var d = document.getElementById("get_values1");
	  d.innerHTML = "";
  
	  for (var i = 0; i < advancedays_value_nights.length; i++) {
		d.innerHTML += "<a href='javascript:void(0);' class='count_days_selected count_days' id='gn_value_" + i + " '>" +
		  advancedays_value_nights[i] + "</a>";
  
	  }
	}
  
	function removeFunction1() {
	  advancedays_value_nights.splice(advancedays_value_nights.length - 1, 1)
	  showRecord1()
	}
	$(document).ready(function (e) {
  
	  $(document).on('blur', '#gnBtn1', function () {
		GetVAlue1();
	  });
  
	})
  
  
	//Multiple Check In Dates 
	var multi_nights_added_value = [];
  
	function generateRow2() {
  
	  if (!document.getElementById("gnBtn2")) {
		var d = document.getElementById("spannights2");
		d.innerHTML += "<span><input type='number' min=7 name='' id='gnBtn2'></span>";
		var d = document.getElementById("btn");
		$('.append_div').css({
		  "display": "inline-block"
		});
	  }
	}
  
	function GetVAlue2() {
	  var flag = true
	  var d = document.getElementById("gnBtn2").value;
	  if ($('#gnBtn2').val() == "") { } else {
		$("#spanstartdateerror").css('display',"none")
		list_main = []
		$("#divstartnights a").each(function (index, value) {
		  if (index >= 0) {
			if (parseInt(d) == parseInt($(value).text())) {
			  //Display_msg_hotel("Already Added", 2)
			  flag = false
			}
		  }
		})
  
		if (flag == true) {
		  multi_nights_added_value.push(d);
		  showRecord2();
		  document.getElementById("gnBtn2").remove();
		}
	  }
	}
  
	function showRecord2() {
	  var d = document.getElementById("get_values2");
	  d.innerHTML = "";
  
	  for (var i = 0; i < multi_nights_added_value.length; i++) {
		d.innerHTML += "<a href='javascript:void(0);' class='count_days_selected count_days' id='gn_value_" + i + " '>" +
		  multi_nights_added_value[i] + "</a>";
  
	  }
	}
  
	function removeFunction2() {
	  multi_nights_added_value.splice(multi_nights_added_value.length - 1, 1)
	  showRecord2()
	}
  
	$(document).ready(function (e) {
		$(document).on('blur', '#gnBtn2', function () {
		  GetVAlue2(); 
	  })
	})
  
  
	$(document).on('blur', '#divstartnights a', function () {
	  $("#divstartnights a").each(function (index, value) {
		if ($(value).attr('class') == 'count_days count_days_selected' || $(value).attr('class') == 'count_days_selected count_days') {
		  flag = 1
		  $("#divstartnights").removeClass('error_field')
		  $("#spanstartnightserror").css("display","none")
		}
	  })
	  if (flag == 0) {
		$("#divstartnights").addClass('error_field')
		$("#spanstartnightserror").css("display","block")
		// Display_msg_hotel("Please choose weekdays", 2)
		return false
	  }
	})
  
	//Advance Weeks
  
	var advance_weeks_added_value = [];
  
	function generateRowAdvanceWeeks() {
	  if (!document.getElementById("gnBtnAdWeeks")) {
		var d = document.getElementById("spanadvanceweeks");
		d.innerHTML += "<span><input type='number' min='1' name='' id='gnBtnAdWeeks'></span>";
		var d = document.getElementById("btn");
		$('.append_div').css({
		  "display": "inline-block"
		});
	  }
	}
  
	function GetVAlueAdvanceWeeks() {
	  var flag = true
	  var d = document.getElementById("gnBtnAdWeeks").value;
	  if ($('#gnBtnAdWeeks').val() == "") { } else {
		list_main = []
		$("#divAdvanceWeeks a").each(function (index, value) {
		  if (index >= 0) {
			if (parseInt(d) == parseInt($(value).text())) {
			 // Display_msg_hotel("Already Added", 2)
			  flag = false
			}
		  }
		})
		if (flag == true) {
		  advance_weeks_added_value.push(d);
		  showRecordAdvanceWeeks();
		  document.getElementById("gnBtnAdWeeks").remove();
		}
	  }
	}
  
	function showRecordAdvanceWeeks() {
	  var d = document.getElementById("get_values_advanceweeks");
	  d.innerHTML = "";
  
	  for (var i = 0; i < advance_weeks_added_value.length; i++) {
		d.innerHTML += "<a href='javascript:void(0);' class='count_days_selected count_days'  id='gn_value_" + i + " '>" +
		  advance_weeks_added_value[i] + "</a>";
  
	  }
	}
  
	function removeFunctionAdvanceWeeks() {
	  advance_weeks_added_value.splice(advance_weeks_added_value.length - 1, 1)
	  showRecordAdvanceWeeks()
	}
	$(document).ready(function (e) {
  
	  $(document).on('blur', '#gnBtnAdWeeks', function () {
		GetVAlueAdvanceWeeks();
	  });
  
	})
  
	var advance_weeks_nights = [];
  
	function generateRow3() {
  
	  if (!document.getElementById("gnBtn3")) {
		var d = document.getElementById("spannights3");
		d.innerHTML += "<span><input type='number' min=7 name='' id='gnBtn3'></span>";
		var d = document.getElementById("btn");
		$('.append_div').css({
		  "display": "inline-block"
		});
	  }
	}
  
	function GetVAlue3() {
	  var flag = true
	  var d = document.getElementById("gnBtn3").value;
	  if ($('#gnBtn3').val() == "") { } else {
		$("#spanstartnightserror").css("display","none")
		$("#spanstartnightserror").text("")
		list_main = []
		$("#divAdvanceWeekNights a").each(function (index, value) {
		  if (index >= 0) {
			if (parseInt(d) == parseInt($(value).text())) {
			  $("#spanstartnightserror").css("display","block")
			  $("#spanstartnightserror").text("Already Added")
			  //Display_msg_hotel("Already Added", 2)
			  flag = false
			}
		  }
		})
  
		if (flag == true) {
		  advance_weeks_nights.push(d);
		  showRecord3();
		  document.getElementById("gnBtn3").remove();
		}
	  }
	}
  
	function showRecord3() {
	  var d = document.getElementById("get_values3");
	  d.innerHTML = "";
  
	  for (var i = 0; i < advance_weeks_nights.length; i++) {
		d.innerHTML +=
		  "<a href='javascript:void(0);' class='count_days_selected count_days' value='1' class='qty' id='gn_value_" + i +
		  " '>" + advance_weeks_nights[i] + "</a>";
	  }
	}
  
	function removeFunction3() {
	  advance_weeks_nights.splice(advance_weeks_nights.length - 1, 1)
	  showRecord3();
	}
	$(document).ready(function (e) {
  
	  $(document).on('blur', '#gnBtn3', function () {
		GetVAlue3();
	  });
	})
  /*
	$(document).on('blur', '#divAdvanceWeeks', function () {
	  var flag =0
	  $("#divAdvanceWeeks a").each(function (index, value) {
		if ($(value).attr('class') == 'days_btn active_day' || $(value).attr('class') == 'active_day days_btn') {
		  flag = 1
		//  list_advancedays.push(value.innerHTML.toString().trim())
		$("#spanadvanceweekerror").css("display","none")
		$("#spanadvanceweekerror").text("")
		}
	  })
	  if (flag == 0) {
		$("#spanadvanceweekerror").css("display","block")
		$("#spanadvanceweekerror").text("Please choose Advance Weeks")
		//Display_msg_hotel("Please choose Advance Weeks", 2)
		return false
	  }
	});
  

	$(document).on('blur', '#divAdvanceWeekNights', function () {
	  var flag =0
	  $("#divAdvanceWeekNights a").each(function (index, value) {
		if ($(value).attr('class') == 'count_days count_days_selected' || $(value).attr('class') == 'count_days_selected count_days') {
		  flag = 1
		  $("#spanadvweeknightserror").css("display","none")
		  $("#spanadvweeknightserror").text("")
		//  list_advancedays.push(value.innerHTML.toString().trim())
		}
	  })
	  if (flag == 0) {
		$("#spanadvweeknightserror").css("display","block")
		$("#spanadvweeknightserror").text("Please choose No of Nights")
		//Display_msg_hotel("Please choose Advance Weeks", 2)
		return false
	  }
  
	});
	*/
  
  </script>
  
  <!-- Multiple Check in Dates  -->
  <script type="text/javascript">
	//Date Function
	var added_value_date = [];
  
	function generatedate() {
	  if (!document.getElementById("gnBtndate")) {
		var d = document.getElementById("get_date");
		d.innerHTML +=
		  "<span><input type='text' readonly='readonly' name='txtstartdate' class='form-control dates_control' placeholder='Select date' id='gnBtndate' ></span>";
		//onblur='GetVAluedate()'
		var d = document.getElementById("btn");
		$('.append_div').show();
		$('.dates_control').datepicker({
			dateFormat: 'mm/dd/yy',
			minDate: '0',

		

		});
	  }
	}
  
	function GetVAluedate() {
	  var d = document.getElementById("gnBtndate").value;
	  //var d = $( "#gnBtndate" ).datepicker( "getDate" );
	  var flag = true
	  var d = $("#gnBtndate").val();
	  if (d === '') {
	  //	console.log('d is empty');
		$("#spanstartdateerror").css("display","block")
		$("#spanstartdateerror").text("Input can not be left blank")
		//Display_msg_hotel('Input can not be left blank', 2)
	//	$(".addnow").show();
	  } else {
	  //	console.log('d is not empty');
		$("#spanstartdateerror").css('display','none')
		$("#spanstartdateerror").text('')
		$("#get_date_values a").each(function(index,value){
		  var newval = new Date(d)
		  var oldval = new Date(value.innerHTML.toString())
		  if(newval <= oldval) 
		  {
			
			//alert("Must be greater than previous date",2)
			flag = false
		   
		  }
		})
		//console.log('flag is ' + flag);
		if(flag == true)
		{
		  added_value_date.push(d);
		  showRecorddate();
		  document.getElementById("gnBtndate").remove();
		 // $('.addnow').remove();
		}
	  }
	}
  
	function removedatFunction() {
	  added_value_date.splice(added_value_date.length - 1, 1);
	  showRecorddate();
	}
  
	function showRecorddate() {
	

	  var d = document.getElementById("get_date_values");
	  d.innerHTML = "";
  
	  for (var i = 0; i < added_value_date.length; i++) {
		d.innerHTML += "<a href='javascript:void(0);' class='count_days_selected count_days' id='gn_value_" + i + " '>" +
		  added_value_date[i] + "</a>";
  
	  }
	}
  
	$(document).ready(function () {
		
	  $(document).on('click', '.addnow', function () {
	 
		$(".add_event_date").show();
	//	$('.addnow').show()
		GetVAluedate();
	  });
  
	});
  
	$(document).on('click', '.add_event_date', function () {
  
	});
  
	//Tab Reset Control
	$("#ls_daterangedays").click(function (e) {
    document.getElementById('get_values').innerHTML = ''
		var weekdays = document.getElementsByName('a_weekdays')
		for(var i =1; i< weekdays.length;i++){
			$(weekdays[i]).removeClass('active_day')
		}
		 daterange_added_value = []
	})
	$("#ls_advancedays").click(function (e) {
	  document.getElementById('get_values_advancedays').innerHTML = ''
	  document.getElementById('get_values1').innerHTML = ''
	  added_value_advancedays = []
    advancedays_value_nights = []
    var AdvanceDays = document.getElementsByName('AdvanceDays')
    for(var i =1; i< AdvanceDays.length;i++){
      $(AdvanceDays[i]).removeClass('active_day')
      removeFunctiondays()
    }
	})
	$("#ls_checkindays").click(function (e) {
   
	  document.getElementById('get_values2').innerHTML = ''
	  document.getElementById('get_date_values').innerHTML = ''
	  multi_nights_added_value = []
    var countdate = document.getElementsByClassName('count_days')
    for(var i =1; i< countdate.length;i++){
      removedatFunction();
    }
    generatedate();
  })
  $("#ls_advanceweekdays").click(function (e) {
    document.getElementById('get_values_advanceweeks').innerHTML = ''
    document.getElementById('get_values3').innerHTML = ''
    advance_weeks_added_value = []
    advance_weeks_nights = []
    var AdvanceWeeks = document.getElementsByName('AdvanceWeeks')
    for(var i =1; i< AdvanceWeeks.length;i++){
      $(AdvanceWeeks[i]).removeClass('active_day')
      removeFunctionAdvanceWeeks()
    }
  })
	//
  


	$("#drpreporttype").change(function(e){
		if($(this).val() == '0')
		{
			$("#drpreporttype").addClass('error_field')
			$("#spanreport").css("display","block")
		}
		else
		{
			$("#spanreport").css("display","none")
			$("#drpreporttype").removeClass('error_field')
		}
		})
	
		
 
  $("#drpsuppliers").change(function(e)
  {
	if($(this).val() == '0')
	{
	  $("#drpsuppliers").addClass('error_field')
	  $("#spanSuppliersDateRange").css("display","block")
	}
	else
	{
	  $("#spanSuppliersDateRange").css("display","none")
	  $("#spanSuppliersDateRange").removeClass('error_field')
	}
  })
  
  $("#drpsuppliers1").change(function(e)
  {
	if($(this).val() == '0')
	{
	  $("#drpsuppliers1").addClass('error_field')
	  $("#spanadvancesuppliers").css("display","block")
	}
	else
	{
	  $("#spanadvancesuppliers").css("display","none")
	  $("#spanadvancesuppliers").removeClass('error_field')
	}
  })
  
  $("#drpsuppliers2").change(function(e)
  {
	if($(this).val() == '0')
	{
	  $("#drpsuppliers2").addClass('error_field')
	  $("#spanSuppliersCheckInDateserror").css("display","block")
	}
	else
	{
	  $("#spanSuppliersCheckInDateserror").css("display","none")
	  $("#spanSuppliersCheckInDateserror").removeClass('error_field')
	}
  })
  
  
  $("#drpsuppliers3").change(function(e)
  {
	if($(this).val() == '0')
	{
	  $("#drpsuppliers3").addClass('error_field')
	  $("#spanSuppliersAdvWeekserror").css("display","block")
	}
	else
	{
	  $("#spanSuppliersAdvWeekserror").css("display","none")
	  $("#spanSuppliersAdvWeekserror").removeClass('error_field')
	}
  })
  
  $("#txtDateRangeFrom").change(function(e){
	if($(this).val() == "")
	{
	   $("#spanDateRangeFrom").css("display","block")
	}
	else
	{
	  $("#txtDateRangeFrom").removeClass('error_field')
	 $("#spanDateRangeFrom").css("display","none")
	}
  })
  
  $("#txtDateRangeTo").change(function(e){
	if($(this).val() == "")
	{
	   $("#spanDateRangeTo").css("display","block")
	}
	else
	{
	  $("#txtDateRangeTo").removeClass('error_field')
	 $("#spanDateRangeTo").css("display","none")
	}
  })
	</script>
	<script>
	$(document).ready(function() {
		{% if batch_items %}
		$(".batch_list_div").show();
		{% endif %}
	})


</script>
	<script src="{% static 'hotel/js/tagInput.js' %}"></script>
	<script>
			$(document).ready(function(){
			$('#tags').tagInput({labelClass:"badge badge-success"});
			$('#tags2').tagInput({labelClass:"badge badge-warning"});
			});

			function Edit_Room_type(str) {
     
        //var str = 'vik,anil,vijay,Rashmi';
        var arr = str.split(',');
        if (arr.length > 0) {
          var count = 0;
          $('#tags').empty();
          $(arr).each(function (index, item) {
            count = (index + 1);
            var room_type = '<span class="badge badge-success tagLabel" data-badge="' + count + '">' + item + ' <a href="#" data-badge="' + count + '" aria-label="close" class="closelabel">×</a></span>';
            $('#tags').append(room_type);
          });
         $('#tags').append('<input class="labelinput" type="text">');
         $('#tags').append('<input id="hdn_txt_room_type" value="' + str + '" name="result" type="hidden">');
         $('#tags').tagInput({labelClass:"badge badge-success"});
         $(arr).each(function (index, item) {
             $('#tags').find('span')[0].remove()
          });
       
        }
       
      }
	  
			function chk_char()
			{
				 var span_tag = $('#tags').find('span');
				 if (span_tag.length>9)
				 {
						 $('.labelinput').attr('readonly','readonly');
				 }
				 else{
					$('.labelinput').attr('readonly',false);
				 }
			}
			</script>
{% endblock %}